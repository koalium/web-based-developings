<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>پروپوزال کامل پهپاد عمودپرواز امداد و نجات - eSmartis Ltd</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Sahel:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a73e8;
            --primary-dark: #0d47a1;
            --primary-light: #bbdefb;
            --secondary: #e53935;
            --secondary-dark: #b71c1c;
            --secondary-light: #ffcdd2;
            --accent: #00c853;
            --accent-dark: #00b248;
            --accent-light: #c8e6c9;
            --warning: #ff9800;
            --warning-dark: #f57c00;
            --warning-light: #ffe0b2;
            --light: #f5f5f5;
            --dark: #212121;
            --gray: #757575;
            --gray-light: #e0e0e0;
            --gradient-primary: linear-gradient(135deg, #1a73e8, #0d47a1);
            --gradient-secondary: linear-gradient(135deg, #e53935, #b71c1c);
            --gradient-accent: linear-gradient(135deg, #00c853, #00b248);
            --gradient-warning: linear-gradient(135deg, #ff9800, #f57c00);
            --gradient-dark: linear-gradient(135deg, #212121, #424242);
            --gradient-fire: linear-gradient(135deg, #ff6a00, #ff0000);
            --gradient-water: linear-gradient(135deg, #2196f3, #0d47a1);
            --gradient-rescue: linear-gradient(135deg, #4caf50, #2e7d32);
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            --shadow-heavy: 0 8px 24px rgba(0, 0, 0, 0.25);
            --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow-inset: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            --radius: 16px;
            --radius-small: 8px;
            --radius-large: 24px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Sahel', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: var(--dark);
            line-height: 1.8;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(187, 222, 251, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 205, 210, 0.1) 0%, transparent 20%);
        }
        
        .container {
            width: 100%;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            background: var(--gradient-primary);
            color: white;
            padding: 2rem 0;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border-bottom: 4px solid var(--accent);
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: rotate 20s linear infinite;
        }
        
        header::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -10%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 2;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 20px;
            flex: 1;
            min-width: 300px;
        }
        
        .logo-icon {
            font-size: 3.5rem;
            color: var(--accent);
            animation: pulse 2s infinite, float 6s ease-in-out infinite;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .logo-text h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .logo-text p {
            font-size: 1.1rem;
            opacity: 0.95;
            max-width: 500px;
        }
        
        .logo-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
            margin-top: 10px;
            display: inline-block;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .copyright {
            text-align: left;
            font-size: 0.9rem;
            opacity: 0.9;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: var(--radius);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .copyright p {
            margin-bottom: 5px;
        }
        
        /* Navigation Tabs */
        .nav-tabs-container {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            margin: 30px 0;
            border: 1px solid var(--gray-light);
            position: sticky;
            top: 10px;
            z-index: 1000;
        }
        
        .nav-tabs {
            display: flex;
            flex-wrap: wrap;
        }
        
        .tab {
            flex: 1;
            min-width: 150px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            color: var(--gray);
            border-bottom: 4px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .tab:hover {
            background-color: #f5f5f5;
            color: var(--primary);
            transform: translateY(-2px);
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom: 4px solid var(--primary);
            background-color: #e3f2fd;
        }
        
        .tab::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 4px;
            background: var(--primary);
            transition: var(--transition);
            transform: translateX(-50%);
        }
        
        .tab.active::after {
            width: 100%;
        }
        
        .tab-icon {
            font-size: 1.5rem;
        }
        
        /* Main Content */
        .main-content {
            display: none;
            animation: fadeInUp 0.6s ease;
            min-height: 600px;
        }
        
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        .main-content.active {
            display: block;
        }
        
        .section-title {
            font-size: 1.8rem;
            color: var(--primary-dark);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--primary-light);
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            right: 0;
            width: 100px;
            height: 3px;
            background: var(--primary);
        }
        
        .card {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--gray-light);
            margin-bottom: 30px;
            overflow: hidden;
            position: relative;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-primary);
        }
        
        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-heavy);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--primary-light);
        }
        
        .card-icon {
            font-size: 2rem;
            margin-left: 15px;
            color: var(--primary);
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--primary-light);
            border-radius: 50%;
        }
        
        .card-title {
            font-size: 1.6rem;
            color: var(--primary-dark);
            font-weight: 700;
        }
        
        /* Advanced Simulation Container */
        .simulation-container {
            position: relative;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            margin: 30px 0;
            border: 1px solid var(--gray-light);
        }
        
        .simulation-header {
            background: var(--gradient-dark);
            color: white;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .simulation-title {
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .simulation-controls {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .sim-btn {
            padding: 12px 20px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: var(--radius-small);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
            box-shadow: var(--shadow-light);
        }
        
        .sim-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }
        
        .sim-btn:active {
            transform: translateY(0);
        }
        
        .sim-btn.secondary {
            background: var(--gradient-warning);
        }
        
        .sim-btn.danger {
            background: var(--gradient-secondary);
        }
        
        .sim-btn.success {
            background: var(--gradient-accent);
        }
        
        .sim-btn.disabled {
            background: var(--gray);
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        .sim-btn.disabled:hover {
            transform: none;
            box-shadow: var(--shadow-light);
        }
        
        .simulation-area {
            position: relative;
            height: 600px;
            background: linear-gradient(to bottom, #87CEEB, #E0F7FA);
            overflow: hidden;
            cursor: crosshair;
        }
        
        .city-background {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 200px;
            background: linear-gradient(to top, #78909C, #546E7A);
        }
        
        .building {
            position: absolute;
            bottom: 0;
            background: linear-gradient(to top, #607D8B, #455A64);
            border: 2px solid #37474F;
            box-shadow: var(--shadow-inset);
        }
        
        .building-windows {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        
        .window {
            position: absolute;
            background: linear-gradient(to bottom, #FFF9C4, #FFEB3B);
            border: 1px solid #FBC02D;
            box-shadow: 0 0 5px rgba(255, 235, 59, 0.5);
        }
        
        .window.on-fire {
            background: var(--gradient-fire);
            border-color: #ff6a00;
            animation: fireWindow 1.5s infinite alternate;
            box-shadow: 0 0 15px rgba(255, 87, 34, 0.7);
        }
        
        @keyframes fireWindow {
            0% { opacity: 0.8; transform: scale(1); }
            100% { opacity: 1; transform: scale(1.1); }
        }
        
        .person {
            position: absolute;
            width: 24px;
            height: 48px;
            background: linear-gradient(to bottom, #4CAF50, #2E7D32);
            border-radius: 12px 12px 0 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
        }
        
        .person:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        .person.rescued {
            background: linear-gradient(to bottom, #2196F3, #0D47A1);
            animation: rescuedPerson 2s ease;
        }
        
        @keyframes rescuedPerson {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .drone {
            position: absolute;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 100;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        }
        
        .drone-body {
            width: 70px;
            height: 35px;
            background: linear-gradient(135deg, #1a73e8, #0d47a1);
            border-radius: 10px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8rem;
            overflow: hidden;
        }
        
        .drone-body::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            animation: shine 3s infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .drone-arm {
            position: absolute;
            background: linear-gradient(135deg, #e53935, #b71c1c);
            border-radius: 4px;
            transition: var(--transition);
        }
        
        .water-stream {
            position: absolute;
            background: linear-gradient(to bottom, 
                rgba(33, 150, 243, 0.9) 0%, 
                rgba(33, 150, 243, 0.6) 50%, 
                transparent 100%);
            border-radius: 50% 50% 0 0;
            animation: waterFlow 0.8s linear infinite;
            transform-origin: top center;
            z-index: 90;
        }
        
        @keyframes waterFlow {
            0% { 
                transform: scaleY(1) scaleX(1);
                opacity: 0.9;
            }
            50% { 
                transform: scaleY(1.1) scaleX(0.9);
                opacity: 1;
            }
            100% { 
                transform: scaleY(1) scaleX(1);
                opacity: 0.9;
            }
        }
        
        .parachute {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 40px;
            background: linear-gradient(135deg, #ff9800, #f57c00);
            border-radius: 50% 50% 10% 10%;
            animation: parachuteFloat 2s ease-in-out infinite;
            z-index: 95;
        }
        
        @keyframes parachuteFloat {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }
        
        .info-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 20px;
            border-radius: var(--radius);
            max-width: 350px;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--shadow-heavy);
        }
        
        .info-panel h4 {
            color: var(--accent);
            margin-bottom: 15px;
            font-size: 1.2rem;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 8px;
        }
        
        .status-bar {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-small);
            transition: var(--transition);
        }
        
        .status-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4CAF50;
            box-shadow: 0 0 10px #4CAF50;
        }
        
        .status-indicator.warning {
            background: #FF9800;
            box-shadow: 0 0 10px #FF9800;
            animation: pulseWarning 1.5s infinite;
        }
        
        @keyframes pulseWarning {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .status-indicator.danger {
            background: #F44336;
            box-shadow: 0 0 10px #F44336;
            animation: pulseDanger 1s infinite;
        }
        
        @keyframes pulseDanger {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .status-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .status-value {
            font-weight: bold;
            font-size: 1.1rem;
            margin-right: auto;
        }
        
        /* Advanced Gantt Chart */
        .advanced-gantt {
            position: relative;
            overflow: hidden;
            border-radius: var(--radius);
            background: white;
            box-shadow: var(--shadow);
            margin: 30px 0;
            border: 1px solid var(--gray-light);
        }
        
        .gantt-header {
            background: var(--gradient-primary);
            color: white;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .gantt-controls {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .gantt-btn {
            padding: 10px 18px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: var(--radius-small);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .gantt-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .gantt-timeline {
            padding: 25px;
            overflow-x: auto;
            background: #f8f9fa;
        }
        
        .gantt-grid {
            display: grid;
            grid-template-columns: 220px repeat(12, 1fr);
            gap: 12px;
            min-width: 1400px;
        }
        
        .gantt-month {
            text-align: center;
            padding: 15px;
            background: white;
            font-weight: bold;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-light);
            border: 1px solid var(--gray-light);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .gantt-month:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
            background: var(--primary-light);
            color: var(--primary-dark);
        }
        
        .gantt-month::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 3px;
            background: var(--primary);
            transform: translateY(-100%);
            transition: var(--transition);
        }
        
        .gantt-month:hover::before {
            transform: translateY(0);
        }
        
        .gantt-task-row {
            display: contents;
        }
        
        .task-label {
            padding: 18px;
            background: white;
            border-radius: var(--radius-small);
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--gray-light);
            transition: var(--transition);
            cursor: pointer;
        }
        
        .task-label:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow);
            background: #f5f5f5;
        }
        
        .task-progress {
            grid-column: 2 / -1;
            position: relative;
            height: 45px;
            background: #f0f0f0;
            border-radius: var(--radius-small);
            overflow: hidden;
            box-shadow: var(--shadow-inset);
        }
        
        .task-bar {
            height: 100%;
            border-radius: var(--radius-small);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
            transition: var(--transition-slow);
            cursor: pointer;
            box-shadow: var(--shadow-light);
            overflow: hidden;
        }
        
        .task-bar:hover {
            transform: scaleY(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .task-bar::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            animation: shine 3s infinite;
        }
        
        .task-milestone {
            position: absolute;
            top: -8px;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            border: 3px solid var(--dark);
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            transition: var(--transition);
        }
        
        .task-milestone:hover {
            transform: scale(1.3);
            border-color: var(--accent);
        }
        
        .task-tooltip {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%) scale(0.9);
            background: var(--dark);
            color: white;
            padding: 12px 18px;
            border-radius: var(--radius);
            font-size: 0.85rem;
            white-space: nowrap;
            opacity: 0;
            transition: var(--transition);
            pointer-events: none;
            z-index: 100;
            box-shadow: var(--shadow-heavy);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .task-tooltip::before {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 8px 8px 0;
            border-style: solid;
            border-color: var(--dark) transparent transparent;
        }
        
        .task-bar:hover .task-tooltip {
            opacity: 1;
            top: -60px;
            transform: translateX(-50%) scale(1);
        }
        
        /* Scenario Selector */
        .scenario-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }
        
        .scenario-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: var(--transition);
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .scenario-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-heavy);
        }
        
        .scenario-card.active {
            border-color: var(--primary);
            background: #e3f2fd;
        }
        
        .scenario-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-primary);
            transform: translateY(-100%);
            transition: var(--transition);
        }
        
        .scenario-card.active::before {
            transform: translateY(0);
        }
        
        .scenario-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--primary-light);
            border-radius: 50%;
        }
        
        .scenario-card h3 {
            font-size: 1.4rem;
            color: var(--primary-dark);
            margin-bottom: 15px;
        }
        
        .scenario-card p {
            color: var(--gray);
            margin-bottom: 15px;
            font-size: 0.95rem;
        }
        
        .scenario-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px solid var(--gray-light);
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary);
            display: block;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--gray);
        }
        
        /* Specifications Grid */
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
        }
        
        .spec-card {
            background: linear-gradient(135deg, #f5f5f5, #e8eaf6);
            padding: 25px;
            border-radius: var(--radius);
            border-right: 5px solid var(--primary);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .spec-card:hover {
            transform: translateX(-8px);
            box-shadow: var(--shadow);
            background: linear-gradient(135deg, #e8eaf6, #f5f5f5);
        }
        
        .spec-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .spec-icon {
            font-size: 1.8rem;
            color: var(--primary);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 50%;
            box-shadow: var(--shadow-light);
        }
        
        .spec-card h3 {
            font-size: 1.3rem;
            color: var(--primary-dark);
        }
        
        .spec-list {
            list-style: none;
            margin-top: 15px;
        }
        
        .spec-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
        }
        
        .spec-list li:last-child {
            border-bottom: none;
        }
        
        .spec-value {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--primary-dark);
            margin-top: 5px;
            padding: 8px 15px;
            background: white;
            border-radius: var(--radius-small);
            display: inline-block;
            box-shadow: var(--shadow-light);
        }
        
        /* Financial Dashboard */
        .financial-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .financial-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .financial-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-heavy);
        }
        
        .financial-card h3 {
            color: var(--primary-dark);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-light);
        }
        
        .cost-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .cost-table th, .cost-table td {
            padding: 15px;
            text-align: right;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .cost-table th {
            background: var(--gradient-primary);
            color: white;
            font-weight: bold;
            position: sticky;
            top: 0;
        }
        
        .cost-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .cost-table tr:hover {
            background-color: #e3f2fd;
            transform: translateX(-5px);
            transition: var(--transition);
        }
        
        .revenue-model {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .revenue-item {
            background: linear-gradient(135deg, var(--primary-light), white);
            padding: 20px;
            border-radius: var(--radius);
            text-align: center;
            transition: var(--transition);
        }
        
        .revenue-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .revenue-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            margin: 10px 0;
        }
        
        /* Footer */
        footer {
            background: var(--gradient-dark);
            color: white;
            padding: 40px 0;
            margin-top: 60px;
            position: relative;
            overflow: hidden;
        }
        
        footer::before {
            content: '';
            position: absolute;
            top: -100px;
            right: -100px;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            position: relative;
            z-index: 2;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            color: var(--accent);
            border-bottom: 2px solid var(--accent);
            padding-bottom: 10px;
            display: inline-block;
            font-size: 1.3rem;
        }
        
        .patent-info {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: var(--radius);
            margin-top: 20px;
            border-right: 4px solid var(--accent);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .patent-info p {
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        .team-list {
            list-style: none;
        }
        
        .team-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .team-list li:last-child {
            border-bottom: none;
        }
        
        .team-list li::before {
            content: '✓';
            color: var(--accent);
            font-weight: bold;
        }
        
        .footer-bottom {
            text-align: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 2;
        }
        
        .footer-bottom p {
            margin-bottom: 10px;
            opacity: 0.9;
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .gantt-grid {
                grid-template-columns: 180px repeat(12, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .copyright {
                text-align: center;
                margin-top: 20px;
            }
            
            .simulation-controls {
                justify-content: center;
            }
            
            .gantt-grid {
                grid-template-columns: 150px repeat(12, 1fr);
            }
            
            .nav-tabs {
                flex-direction: column;
            }
        }
        
        @media (max-width: 768px) {
            .logo {
                flex-direction: column;
                text-align: center;
            }
            
            .logo-icon {
                font-size: 2.5rem;
            }
            
            .logo-text h1 {
                font-size: 1.8rem;
            }
            
            .simulation-area {
                height: 500px;
            }
            
            .info-panel {
                position: relative;
                top: 0;
                left: 0;
                max-width: 100%;
                margin: 20px;
            }
            
            .gantt-grid {
                grid-template-columns: 120px repeat(12, 1fr);
                font-size: 0.9rem;
            }
            
            .specs-grid {
                grid-template-columns: 1fr;
            }
            
            .financial-dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }
        
        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--gray-light);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Badge Styles */
        .badge {
            display: inline-block;
            padding: 5px 12px;
            background: var(--gradient-accent);
            color: white;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
            vertical-align: middle;
        }
        
        .badge.warning {
            background: var(--gradient-warning);
        }
        
        .badge.danger {
            background: var(--gradient-secondary);
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: var(--dark);
            color: white;
            text-align: center;
            border-radius: var(--radius-small);
            padding: 12px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85rem;
            box-shadow: var(--shadow);
        }
        
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border-width: 8px;
            border-style: solid;
            border-color: var(--dark) transparent transparent transparent;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-helicopter"></i>
                    </div>
                    <div class="logo-text">
                        <h1>پروپوزال کامل پهپاد عمودپرواز امداد و نجات شهری</h1>
                        <p>سامانه پیشرفته اطفاء حریق و نجات افراد از ساختمان‌های بلند با قابلیت حمل ۴۲۰ کیلوگرم</p>
                        <div class="logo-badge">
                            <i class="fas fa-bolt"></i> مدت پرواز: ۲۰-۲۲ دقیقه | 
                            <i class="fas fa-weight-hanging"></i> ظرفیت حمل: ۴۲۰ کیلوگرم |
                            <i class="fas fa-users"></i> کنترل گروهی
                        </div>
                    </div>
                </div>
                <div class="copyright">
                    <p><i class="fas fa-copyright"></i> کلیه حقوق محفوظ برای <strong>eSmartis Ltd, Ashkarian.R</strong></p>
                    <p><i class="fas fa-registered"></i> ثبت پتنت: <strong>گودرزی D&T</strong></p>
                    <p><i class="fas fa-map-marker-alt"></i> شهرک دانشگاه شریف، تهران</p>
                    <p><i class="fas fa-calendar-alt"></i> سال ثبت: ۲۰۲۶ میلادی</p>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Navigation Tabs -->
    <div class="container">
        <div class="nav-tabs-container">
            <div class="nav-tabs">
                <div class="tab active" data-tab="simulation">
                    <i class="fas fa-play-circle tab-icon"></i>
                    <span>شبیه‌سازی عملیات</span>
                </div>
                <div class="tab" data-tab="gantt">
                    <i class="fas fa-project-diagram tab-icon"></i>
                    <span>برنامه زمانی</span>
                </div>
                <div class="tab" data-tab="specs">
                    <i class="fas fa-cogs tab-icon"></i>
                    <span>مشخصات فنی</span>
                </div>
                <div class="tab" data-tab="scenarios">
                    <i class="fas fa-clipboard-list tab-icon"></i>
                    <span>سناریوها</span>
                </div>
                <div class="tab" data-tab="financial">
                    <i class="fas fa-chart-line tab-icon"></i>
                    <span>برآورد مالی</span>
                </div>
                <div class="tab" data-tab="team">
                    <i class="fas fa-users tab-icon"></i>
                    <span>تیم توسعه</span>
                </div>
            </div>
        </div>
        
        <!-- Simulation Tab -->
        <div id="simulation" class="main-content active">
            <div class="simulation-container">
                <div class="simulation-header">
                    <div class="simulation-title">
                        <i class="fas fa-play-circle"></i>
                        <h2>شبیه‌سازی عملیات امداد و نجات پیشرفته</h2>
                    </div>
                    <div class="simulation-controls">
                        <button class="sim-btn" id="startSim">
                            <i class="fas fa-play"></i> شروع شبیه‌سازی
                        </button>
                        <button class="sim-btn secondary" id="pauseSim">
                            <i class="fas fa-pause"></i> توقف
                        </button>
                        <button class="sim-btn danger" id="resetSim">
                            <i class="fas fa-redo"></i> بازنشانی
                        </button>
                        <button class="sim-btn success" id="autoSim">
                            <i class="fas fa-robot"></i> حالت خودکار
                        </button>
                    </div>
                </div>
                
                <div class="simulation-area" id="simulationArea">
                    <!-- City Background -->
                    <div class="city-background"></div>
                    
                    <!-- Buildings will be added dynamically -->
                    
                    <!-- Drone will be added dynamically -->
                    
                    <!-- Info Panel -->
                    <div class="info-panel">
                        <h4><i class="fas fa-info-circle"></i> وضعیت عملیات</h4>
                        <div class="status-bar">
                            <div class="status-item">
                                <div class="status-indicator" id="motorStatus"></div>
                                <span class="status-label">موتورها</span>
                                <span class="status-value" id="motorValue">۸/۸</span>
                            </div>
                            <div class="status-item">
                                <div class="status-indicator" id="batteryStatus"></div>
                                <span class="status-label">باتری</span>
                                <span class="status-value" id="batteryValue">۹۲%</span>
                            </div>
                            <div class="status-item">
                                <div class="status-indicator" id="waterStatus"></div>
                                <span class="status-label">مخزن آب</span>
                                <span class="status-value" id="waterValue">۱۰۰%</span>
                            </div>
                            <div class="status-item">
                                <div class="status-indicator" id="altitudeStatus"></div>
                                <span class="status-label">ارتفاع</span>
                                <span class="status-value" id="altitudeValue">۰ متر</span>
                            </div>
                        </div>
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1);">
                            <p style="font-size: 0.9rem;"><i class="fas fa-clock"></i> زمان پرواز: <span id="flightTime">۰۰:۰۰</span></p>
                            <p style="font-size: 0.9rem;"><i class="fas fa-weight-hanging"></i> وزن حمل: <span id="loadWeight">۰ کیلوگرم</span></p>
                            <p style="font-size: 0.9rem;"><i class="fas fa-wind"></i> سرعت باد: <span id="windSpeed">۱۸ کیلومتر/ساعت</span></p>
                        </div>
                    </div>
                </div>
                
                <div style="padding: 20px; background: #f5f5f5; border-top: 1px solid var(--gray-light);">
                    <h4 style="margin-bottom: 15px;">کنترل‌های دستی عملیات</h4>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap; align-items: center;">
                        <div style="display: flex; gap: 10px;">
                            <button class="sim-btn secondary" id="moveUp"><i class="fas fa-arrow-up"></i> بالا</button>
                            <button class="sim-btn secondary" id="moveDown"><i class="fas fa-arrow-down"></i> پایین</button>
                            <button class="sim-btn secondary" id="moveLeft"><i class="fas fa-arrow-left"></i> چپ</button>
                            <button class="sim-btn secondary" id="moveRight"><i class="fas fa-arrow-right"></i> راست</button>
                        </div>
                        
                        <div style="display: flex; gap: 10px; margin-right: auto;">
                            <button class="sim-btn danger" id="sprayWater"><i class="fas fa-tint"></i> پاشش آب</button>
                            <button class="sim-btn warning" id="deployChute"><i class="fas fa-parachute-box"></i> چتر نجات</button>
                            <button class="sim-btn success" id="rescuePerson"><i class="fas fa-life-ring"></i> شروع نجات</button>
                        </div>
                        
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div>
                                <label style="font-size: 0.9rem; display: block; margin-bottom: 5px;">سرعت شبیه‌سازی:</label>
                                <input type="range" id="simSpeed" min="1" max="10" value="5" style="width: 150px;">
                            </div>
                            <div id="simulationLog" style="background: white; padding: 10px; border-radius: var(--radius-small); max-height: 100px; overflow-y: auto; width: 300px; font-size: 0.85rem;">
                                <p><i class="fas fa-check-circle" style="color: var(--accent);"></i> سیستم آماده است...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h2 class="card-title">راهنمای شبیه‌سازی عملیات</h2>
                </div>
                <div class="specs-grid">
                    <div class="spec-card">
                        <div class="spec-header">
                            <div class="spec-icon">
                                <i class="fas fa-gamepad"></i>
                            </div>
                            <h3>کنترل‌های شبیه‌سازی</h3>
                        </div>
                        <ul class="spec-list">
                            <li><strong>کلیدهای جهت‌دار:</strong> حرکت پهپاد در چهار جهت</li>
                            <li><strong>Space:</strong> پاشش آب (اطفاء حریق)</li>
                            <li><strong>R:</strong> فعال‌سازی چتر نجات</li>
                            <li><strong>E:</strong> شروع عملیات نجات</li>
                            <li><strong>P:</strong> توقف/ادامه شبیه‌سازی</li>
                        </ul>
                    </div>
                    
                    <div class="spec-card">
                        <div class="spec-header">
                            <div class="spec-icon">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <h3>اهداف عملیاتی</h3>
                        </div>
                        <ul class="spec-list">
                            <li>خاموش کردن ۴ پنجره آتش‌گرفته</li>
                            <li>نجات ۳ نفر از طبقات مختلف</li>
                            <li>حفظ باتری بالای ۲۰%</li>
                            <li>کمتر از ۲ موتور از دست رفته</li>
                            <li>انجام عملیات در کمتر از ۱۰ دقیقه</li>
                        </ul>
                    </div>
                    
                    <div class="spec-card">
                        <div class="spec-header">
                            <div class="spec-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <h3>شرایط بحرانی</h3>
                        </div>
                        <ul class="spec-list">
                            <li><span class="badge danger">خطر</span> باتری زیر ۱۰%</li>
                            <li><span class="badge warning">هشدار</span> موتورهای باقی‌مانده کمتر از ۵</li>
                            <li><span class="badge danger">خطر</span> مخزن آب خالی</li>
                            <li><span class="badge warning">هشدار</span> سرعت باد بالای ۱۰۰ کیلومتر</li>
                            <li><span class="badge">نرمال</span> تمام سیستم‌ها فعال</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Gantt Tab -->
        <div id="gantt" class="main-content">
            <div class="advanced-gantt">
                <div class="gantt-header">
                    <h2><i class="fas fa-project-diagram"></i> برنامه زمانی پیشرفته پروژه - نمودار گانت</h2>
                    <div class="gantt-controls">
                        <button class="gantt-btn" id="zoomIn">
                            <i class="fas fa-search-plus"></i> بزرگنمایی
                        </button>
                        <button class="gantt-btn" id="zoomOut">
                            <i class="fas fa-search-minus"></i> کوچکنمایی
                        </button>
                        <button class="gantt-btn" id="exportGantt">
                            <i class="fas fa-download"></i> خروجی PDF
                        </button>
                        <button class="gantt-btn" id="printGantt">
                            <i class="fas fa-print"></i> چاپ
                        </button>
                    </div>
                </div>
                
                <div class="gantt-timeline">
                    <div class="gantt-grid" id="ganttGrid">
                        <!-- Content will be loaded by JavaScript -->
                    </div>
                </div>
                
                <div style="padding: 20px; background: linear-gradient(to right, #f8f9fa, #e3f2fd); border-top: 1px solid var(--gray-light);">
                    <h4><i class="fas fa-info-circle"></i> توضیحات مراحل پروژه</h4>
                    <div id="taskDetails" style="margin-top: 15px;">
                        <p>برای مشاهده جزئیات هر مرحله، روی نوار رنگی مربوطه کلیک کنید. مراحل با رنگ قرمز دارای اولویت بالا هستند.</p>
                    </div>
                    
                    <div class="status-bar" style="margin-top: 20px; background: white; padding: 15px; border-radius: var(--radius);">
                        <div class="status-item">
                            <div class="status-indicator"></div>
                            <span class="status-label">پیشرفت کل پروژه</span>
                            <span class="status-value" id="overallProgress">۰%</span>
                        </div>
                        <div class="status-item">
                            <div class="status-indicator warning"></div>
                            <span class="status-label">زمان مصرف شده</span>
                            <span class="status-value" id="timeSpent">۰ هفته</span>
                        </div>
                        <div class="status-item">
                            <div class="status-indicator danger"></div>
                            <span class="status-label">مراحل بحرانی باقی‌مانده</span>
                            <span class="status-value" id="criticalTasks">۳</span>
                        </div>
                        <div class="status-item">
                            <div class="status-indicator"></div>
                            <span class="status-label">تاریخ اتمام پیش‌بینیشده</span>
                            <span class="status-value" id="completionDate">۱۴۰۵/۱۲/۱۵</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h2 class="card-title">تحلیل پیشرفت و ریسک‌های پروژه</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                    <div>
                        <h3 style="color: var(--primary-dark); margin-bottom: 15px;">ریسک‌های اصلی پروژه</h3>
                        <div style="background: #fff3e0; padding: 20px; border-radius: var(--radius); border-right: 4px solid var(--warning);">
                            <ul style="list-style: none;">
                                <li style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                    <strong><i class="fas fa-exclamation-circle" style="color: var(--warning);"></i> نوآوری در سیستم حمل بار:</strong>
                                    <p style="font-size: 0.9rem; margin-top: 5px;">نیاز به طراحی جدید برای حمل ۴۲۰ کیلوگرم با سطح مقطع کوچک</p>
                                </li>
                                <li style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                    <strong><i class="fas fa-exclamation-circle" style="color: var(--warning);"></i> سیستم کنترل گروهی:</strong>
                                    <p style="font-size: 0.9rem; margin-top: 5px;">هماهنگی چند پهپاد در محیط‌های شلوغ شهری</p>
                                </li>
                                <li style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                    <strong><i class="fas fa-exclamation-circle" style="color: var(--warning);"></i> تأمین قطعات:</strong>
                                    <p style="font-size: 0.9rem; margin-top: 5px;">وابستگی به قطعات وارداتی با تحریم‌های موجود</p>
                                </li>
                                <li style="padding: 10px 0;">
                                    <strong><i class="fas fa-exclamation-circle" style="color: var(--warning);"></i> تأییدیه‌های امنیتی:</strong>
                                    <p style="font-size: 0.9rem; margin-top: 5px;">اخذ مجوزهای پرواز در حریم هوایی شهرها</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div>
                        <h3 style="color: var(--primary-dark); margin-bottom: 15px;">راهکارهای کاهش ریسک</h3>
                        <div style="background: #e8f5e9; padding: 20px; border-radius: var(--radius); border-right: 4px solid var(--accent);">
                            <ul style="list-style: none;">
                                <li style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                    <strong><i class="fas fa-check-circle" style="color: var(--accent);"></i> نمونه‌سازی مرحله‌ای:</strong>
                                    <p style="font-size: 0.9rem; margin-top: 5px;">تست سیستم‌ها به صورت جداگانه قبل از یکپارچه‌سازی</p>
                                </li>
                                <li style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                    <strong><i class="fas fa-check-circle" style="color: var(--accent);"></i> همکاری با دانشگاه‌ها:</strong>
                                    <p style="font-size: 0.9rem; margin-top: 5px;">استفاده از ظرفیت علمی دانشگاه شریف و دیگر مراکز</p>
                                </li>
                                <li style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                    <strong><i class="fas fa-check-circle" style="color: var(--accent);"></i> تولید داخلی:</strong>
                                    <p style="font-size: 0.9rem; margin-top: 5px;">ساخت برخی قطعات حیاتی در داخل کشور</p>
                                </li>
                                <li style="padding: 10px 0;">
                                    <strong><i class="fas fa-check-circle" style="color: var(--accent);"></i> مشاوره حقوقی:</strong>
                                    <p style="font-size: 0.9rem; margin-top: 5px;">استفاده از وکلای متخصص در زمینه حقوق هوایی</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Specifications Tab -->
        <div id="specs" class="main-content">
            <h2 class="section-title">مشخصات فنی تفصیلی پهپاد امداد و نجات</h2>
            
            <div class="specs-grid">
                <div class="spec-card">
                    <div class="spec-header">
                        <div class="spec-icon">
                            <i class="fas fa-ruler-combined"></i>
                        </div>
                        <h3>ابعاد و وزن</h3>
                    </div>
                    <ul class="spec-list">
                        <li><span>طول بدنه اصلی:</span> <strong>۲.۲ متر</strong></li>
                        <li><span>عرض بدنه اصلی:</span> <strong>۰.۷ متر</strong></li>
                        <li><span>عرض با بازوها:</span> <strong>۱.۶ متر</strong></li>
                        <li><span>ارتفاع:</span> <strong>۰.۴۵ متر</strong></li>
                        <li><span>وزن خالی:</span> <strong>۱۵۰ کیلوگرم</strong></li>
                        <li><span>حداکثر وزن برخاست:</span> <strong>۸۰۰ کیلوگرم</strong></li>
                    </ul>
                    <div class="spec-value">نسبت тяگ به وزن: ۵:۱</div>
                </div>
                
                <div class="spec-card">
                    <div class="spec-header">
                        <div class="spec-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <h3>عملکرد پروازی</h3>
                    </div>
                    <ul class="spec-list">
                        <li><span>مدت پرواز با بار کامل:</span> <strong>۲۰-۲۲ دقیقه</strong></li>
                        <li><span>سرعت بیشینه:</span> <strong>۱۲۰ کیلومتر/ساعت</strong></li>
                        <li><span>سقف پرواز عملیاتی:</span> <strong>۳۰۰ متر</strong></li>
                        <li><span>تحمل باد:</span> <strong>۱۸۰ کیلومتر/ساعت</strong></li>
                        <li><span>شتاب عمودی:</span> <strong>۳ متر/ثانیه²</strong></li>
                        <li><span>شتاب افقی:</span> <strong>۲ متر/ثانیه²</strong></li>
                    </ul>
                    <div class="spec-value">پایداری در جریان‌های گردابی</div>
                </div>
                
                <div class="spec-card">
                    <div class="spec-header">
                        <div class="spec-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3>سیستم قدرت</h3>
                    </div>
                    <ul class="spec-list">
                        <li><span>تعداد موتورها:</span> <strong>۸ عدد براشلس</strong></li>
                        <li><span>توان هر موتور:</span> <strong>۱۵ کیلووات</strong></li>
                        <li><span>باتری:</span> <strong>لیتیوم-پلیمر ۳۰kWh</strong></li>
                        <li><span>شارژ سریع:</span> <strong>۱۵ دقیقه تا ۸۰%</strong></li>
                        <li><span>زمان تعویض باتری:</span> <strong>۴۵ ثانیه</strong></li>
                        <li><span>توان خروجی کل:</span> <strong>۱۲۰ کیلووات</strong></li>
                    </ul>
                    <div class="spec-value">سیستم خنک‌کننده مایع</div>
                </div>
                
                <div class="spec-card">
                    <div class="spec-header">
                        <div class="spec-icon">
                            <i class="fas fa-tint"></i>
                        </div>
                        <h3>سیستم اطفاء حریق</h3>
                    </div>
                    <ul class="spec-list">
                        <li><span>ظرفیت مخزن:</span> <strong>۴۲۰ لیتر</strong></li>
                        <li><span>زمان تخلیه کامل:</span> <strong>۶۰ ثانیه</strong></li>
                        <li><span>برد پاشش:</span> <strong>۴۰ متر</strong></li>
                        <li><span>فشار پمپ:</span> <strong>۲۰ بار</strong></li>
                        <li><span>تعداد نازل‌ها:</span> <strong>۸ عدد</strong></li>
                        <li><span>نازل‌های متغیر:</span> <strong>۴ عدد</strong></li>
                    </ul>
                    <div class="spec-value">پاشش جت، مه و فوم</div>
                </div>
                
                <div class="spec-card">
                    <div class="spec-header">
                        <div class="spec-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>سیستم ایمنی</h3>
                    </div>
                    <ul class="spec-list">
                        <li><span>چتر نجات:</span> <strong>قطر ۱۲ متر</strong></li>
                        <li><span>تحمل خرابی موتور:</span> <strong>تا ۴ موتور</strong></li>
                        <li><span>سیستم ضدبرخورد:</span> <strong>لیدار + رادار</strong></li>
                        <li><span>بازگشت خودکار:</span> <strong>در صورت قطع ارتباط</strong></li>
                        <li><span>سیستم تعلیق نجات:</span> <strong>ظرفیت ۵۰۰ کیلوگرم</strong></li>
                        <li><span>سیستم خاموش‌کننده باتری:</span> <strong>خودکار در آتش‌سوزی</strong></li>
                    </ul>
                    <div class="spec-value">۹۹.۹% قابلیت اطمینان</div>
                </div>
                
                <div class="spec-card">
                    <div class="spec-header">
                        <div class="spec-icon">
                            <i class="fas fa-network-wired"></i>
                        </div>
                        <h3>کنترل و ارتباطات</h3>
                    </div>
                    <ul class="spec-list">
                        <li><span>برد کنترل:</span> <strong>۱۰ کیلومتر</strong></li>
                        <li><span>کنترل گروهی:</span> <strong>تا ۱۲ پهپاد</strong></li>
                        <li><span>اتصال:</span> <strong>۵G + ماهواره‌ای</strong></li>
                        <li><span>هوش مصنوعی:</span> <strong>تشخیص خودکار حریق و مصدوم</strong></li>
                        <li><span>تأخیر ارتباطی:</span> <strong>کمتر از ۵۰ms</strong></li>
                        <li><span>رمزگذاری:</span> <strong>AES-256</strong></li>
                    </ul>
                    <div class="spec-value">سیستم موقعیت‌یابی دقیق RTK</div>
                </div>
            </div>
            
            <div class="card" style="margin-top: 30px;">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h2 class="card-title">نوآوری‌های کلیدی در طراحی</h2>
                </div>
                
                <div class="specs-grid">
                    <div class="spec-card" style="background: linear-gradient(135deg, #e8f5e9, #f1f8e9);">
                        <h3><i class="fas fa-fan" style="color: var(--accent); margin-left: 10px;"></i> سیستم چندنازله جت‌فن</h3>
                        <p>استفاده از ۸ نازل جت‌فن به جای پروانه‌های بزرگ، کاهش سطح مقطع از ۲۰ متر مربع به ۳ متر مربع</p>
                        <div class="spec-value">افزایش کارایی ۴۰%</div>
                    </div>
                    
                    <div class="spec-card" style="background: linear-gradient(135deg, #e3f2fd, #e8eaf6);">
                        <h3><i class="fas fa-exchange-alt" style="color: var(--primary); margin-left: 10px;"></i> طراحی ماژولار</h3>
                        <p>قابلیت تعویض سریع باتری و مخزن در کمتر از ۱ دقیقه، افزایش بهره‌وری عملیاتی</p>
                        <div class="spec-value">کاهش زمان توقف ۸۰%</div>
                    </div>
                    
                    <div class="spec-card" style="background: linear-gradient(135deg, #fff3e0, #ffecb3);">
                        <h3><i class="fas fa-sync-alt" style="color: var(--warning); margin-left: 10px;"></i> سیستم کنترل تطبیقی</h3>
                        <p>الگوریتم‌های هوشمند برای تطبیق با شرایط جوی و بارهای متغیر</p>
                        <div class="spec-value">پایداری در باد ۱۸۰ کیلومتر</div>
                    </div>
                    
                    <div class="spec-card" style="background: linear-gradient(135deg, #fce4ec, #f8bbd9);">
                        <h3><i class="fas fa-project-diagram" style="color: #e91e63; margin-left: 10px;"></i> شبکه‌سازی خودکار</h3>
                        <p>ایجاد شبکه ارتباطی بین پهپادها برای هماهنگی عملیات گروهی</p>
                        <div class="spec-value">هماهنگی ۱۲ پهپاد همزمان</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Scenarios Tab -->
        <div id="scenarios" class="main-content">
            <h2 class="section-title">سناریوهای عملیاتی پهپاد امداد و نجات</h2>
            
            <div class="scenario-selector">
                <div class="scenario-card active" data-scenario="fire">
                    <div class="scenario-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <h3>آتش‌سوزی ساختمان بلندمرتبه</h3>
                    <p>عملیات اطفاء حریق در ساختمان ۳۰ طبقه با چند کانون آتش در طبقات مختلف</p>
                    <div class="scenario-stats">
                        <div class="stat-item">
                            <span class="stat-value">۱۵ دقیقه</span>
                            <span class="stat-label">زمان عملیات</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">۳ پهپاد</span>
                            <span class="stat-label">تجهیزات مورد نیاز</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">۸۵%</span>
                            <span class="stat-label">احتمال موفقیت</span>
                        </div>
                    </div>
                </div>
                
                <div class="scenario-card" data-scenario="rescue">
                    <div class="scenario-icon">
                        <i class="fas fa-person-booth"></i>
                    </div>
                    <h3>نجات افراد محبوس</h3>
                    <p>نجات افراد از طبقات ۱۰ تا ۲۰ ساختمان‌های بلند با سیستم تعلیق ایمن</p>
                    <div class="scenario-stats">
                        <div class="stat-item">
                            <span class="stat-value">۲۰ دقیقه</span>
                            <span class="stat-label">زمان عملیات</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">۶ نفر</span>
                            <span class="stat-label">ظرفیت نجات</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">۹۰%</span>
                            <span class="stat-label">احتمال موفقیت</span>
                        </div>
                    </div>
                </div>
                
                <div class="scenario-card" data-scenario="combined">
                    <div class="scenario-icon">
                        <i class="fas fa-users-cog"></i>
                    </div>
                    <h3>عملیات ترکیبی امدادی</h3>
                    <p>اطفاء حریق همزمان با عملیات نجات در شرایط بحرانی</p>
                    <div class="scenario-stats">
                        <div class="stat-item">
                            <span class="stat-value">۲۵ دقیقه</span>
                            <span class="stat-label">زمان عملیات</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">۴ پهپاد</span>
                            <span class="stat-label">تخصص‌های مختلف</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">۷۵%</span>
                            <span class="stat-label">احتمال موفقیت</span>
                        </div>
                    </div>
                </div>
                
                <div class="scenario-card" data-scenario="windy">
                    <div class="scenario-icon">
                        <i class="fas fa-wind"></i>
                    </div>
                    <h3>عملیات در شرایط طوفانی</h3>
                    <p>انجام مأموریت در باد ۱۸۰ کیلومتر/ساعت با جریان‌های گردابی شدید</p>
                    <div class="scenario-stats">
                        <div class="stat-item">
                            <span class="stat-value">۱۸۰ کیلومتر</span>
                            <span class="stat-label">سرعت باد</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">۲ پهپاد</span>
                            <span class="stat-label">پشتیبان</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">۶۵%</span>
                            <span class="stat-label">احتمال موفقیت</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <h2 class="card-title">جزئیات سناریوی انتخابی</h2>
                </div>
                <div id="scenarioDetails">
                    <div style="text-align: center; padding: 40px;">
                        <i class="fas fa-mouse-pointer" style="font-size: 3rem; color: var(--gray-light); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--gray);">لطفاً یک سناریو را از بالا انتخاب کنید</h3>
                        <p>جزئیات کامل سناریوی انتخابی در این بخش نمایش داده خواهد شد</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h2 class="card-title">تحلیل کارایی در سناریوهای مختلف</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 20px;">
                    <div style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 25px; border-radius: var(--radius);">
                        <h4><i class="fas fa-fire" style="color: var(--secondary);"></i> کارایی در اطفاء حریق</h4>
                        <div style="margin-top: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>سرعت رسیدن به محل</span>
                                <strong>۹۵%</strong>
                            </div>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden;">
                                <div style="width: 95%; height: 100%; background: var(--gradient-secondary);"></div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; margin: 15px 0 10px;">
                                <span>دقت در پاشش آب</span>
                                <strong>۸۸%</strong>
                            </div>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden;">
                                <div style="width: 88%; height: 100%; background: var(--gradient-secondary);"></div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; margin: 15px 0 10px;">
                                <span>مصرف بهینه آب</span>
                                <strong>۹۲%</strong>
                            </div>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden;">
                                <div style="width: 92%; height: 100%; background: var(--gradient-secondary);"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9); padding: 25px; border-radius: var(--radius);">
                        <h4><i class="fas fa-life-ring" style="color: var(--accent);"></i> کارایی در عملیات نجات</h4>
                        <div style="margin-top: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>زمان نجات هر فرد</span>
                                <strong>۳.۵ دقیقه</strong>
                            </div>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden;">
                                <div style="width: 90%; height: 100%; background: var(--gradient-accent);"></div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; margin: 15px 0 10px;">
                                <span>ایمنی عملیات</span>
                                <strong>۹۶%</strong>
                            </div>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden;">
                                <div style="width: 96%; height: 100%; background: var(--gradient-accent);"></div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; margin: 15px 0 10px;">
                                <span>ظرفیت نجات همزمان</span>
                                <strong>۲ نفر</strong>
                            </div>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden;">
                                <div style="width: 66%; height: 100%; background: var(--gradient-accent);"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 25px; border-radius: var(--radius);">
                        <h4><i class="fas fa-shield-alt" style="color: var(--warning);"></i> قابلیت اطمینان</h4>
                        <div style="margin-top: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>در شرایط عادی</span>
                                <strong>۹۹.۵%</strong>
                            </div>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden;">
                                <div style="width: 99.5%; height: 100%; background: var(--gradient-warning);"></div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; margin: 15px 0 10px;">
                                <span>در شرایط بحرانی</span>
                                <strong>۸۵%</strong>
                            </div>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden;">
                                <div style="width: 85%; height: 100%; background: var(--gradient-warning);"></div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; margin: 15px 0 10px;">
                                <span>تحمل خرابی</span>
                                <strong>۵۰% موتورها</strong>
                            </div>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden;">
                                <div style="width: 50%; height: 100%; background: var(--gradient-warning);"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Financial Tab -->
        <div id="financial" class="main-content">
            <h2 class="section-title">برآورد مالی و تحلیل اقتصادی پروژه</h2>
            
            <div class="financial-dashboard">
                <div class="financial-card">
                    <h3><i class="fas fa-money-bill-wave"></i> هزینه‌های توسعه نمونه اولیه</h3>
                    <table class="cost-table">
                        <thead>
                            <tr>
                                <th>اقلام هزینه</th>
                                <th>مبلغ (دلار)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>موتورها و سیستم محرکه (۸ عدد)</td>
                                <td>۱۶,۰۰۰</td>
                            </tr>
                            <tr>
                                <td>سیستم‌های الکترونیک و کنترل</td>
                                <td>۱۲,۰۰۰</td>
                            </tr>
                            <tr>
                                <td>بدنه و ساختار مکانیکی</td>
                                <td>۸,۰۰۰</td>
                            </tr>
                            <tr>
                                <td>باتری‌ها و سیستم قدرت</td>
                                <td>۱۰,۰۰۰</td>
                            </tr>
                            <tr>
                                <td>سیستم اطفاء و مخازن</td>
                                <td>۷,۰۰۰</td>
                            </tr>
                            <tr>
                                <td>سنسورها و سیستم‌های ایمنی</td>
                                <td>۵,۰۰۰</td>
                            </tr>
                            <tr style="background: #e8f5e9; font-weight: bold;">
                                <td>جمع هزینه قطعات</td>
                                <td>۵۸,۰۰۰</td>
                            </tr>
                            <tr>
                                <td>تحقیق و توسعه (۶ ماه)</td>
                                <td>۱۵۰,۰۰۰</td>
                            </tr>
                            <tr>
                                <td>تست و تأییدیه‌ها</td>
                                <td>۲۰,۰۰۰</td>
                            </tr>
                            <tr>
                                <td>هزینه‌های اداری و مدیریتی</td>
                                <td>۱۵,۰۰۰</td>
                            </tr>
                            <tr style="background: var(--primary-light); font-weight: bold; color: var(--primary-dark);">
                                <td>کل هزینه نمونه اولیه</td>
                                <td>۲۴۳,۰۰۰</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="financial-card">
                    <h3><i class="fas fa-industry"></i> هزینه تولید و قیمت‌گذاری</h3>
                    <table class="cost-table">
                        <thead>
                            <tr>
                                <th>مدل محصول</th>
                                <th>هزینه تولید</th>
                                <th>قیمت فروش</th>
                                <th>سود ناخالص</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>پایه (اطفاء حریق)</td>
                                <td>۴۵,۰۰۰</td>
                                <td>۶۰,۰۰۰</td>
                                <td>۱۵,۰۰۰ (۲۵%)</td>
                            </tr>
                            <tr>
                                <td>استاندارد (اطفاء + نجات)</td>
                                <td>۵۵,۰۰۰</td>
                                <td>۷۵,۰۰۰</td>
                                <td>۲۰,۰۰۰ (۲۷%)</td>
                            </tr>
                            <tr>
                                <td>پیشرفته (کامل)</td>
                                <td>۶۵,۰۰۰</td>
                                <td>۹۰,۰۰۰</td>
                                <td>۲۵,۰۰۰ (۲۸%)</td>
                            </tr>
                            <tr>
                                <td>حرفه‌ای (شبکه‌ای)</td>
                                <td>۷۵,۰۰۰</td>
                                <td>۱۰۰,۰۰۰</td>
                                <td>۲۵,۰۰۰ (۲۵%)</td>
                            </tr>
                            <tr style="background: #e8f5e9; font-weight: bold;">
                                <td>میانگین</td>
                                <td>۶۰,۰۰۰</td>
                                <td>۸۱,۲۵۰</td>
                                <td>۲۱,۲۵۰ (۲۶%)</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #f5f5f5; border-radius: var(--radius);">
                        <h4><i class="fas fa-calculator"></i> تحلیل سودآوری</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px;">
                            <div>
                                <p style="font-size: 0.9rem;">نقطه سربه‌سر</p>
                                <p style="font-size: 1.2rem; font-weight: bold; color: var(--primary);">۱۵ دستگاه</p>
                            </div>
                            <div>
                                <p style="font-size: 0.9rem;">بازگشت سرمایه</p>
                                <p style="font-size: 1.2rem; font-weight: bold; color: var(--accent);">۱۸ ماه</p>
                            </div>
                            <div>
                                <p style="font-size: 0.9rem;">حاشیه سود ناخالص</p>
                                <p style="font-size: 1.2rem; font-weight: bold; color: var(--accent-dark);">۳۵-۴۰%</p>
                            </div>
                            <div>
                                <p style="font-size: 0.9rem;">ارزش چرخه عمر (۵ سال)</p>
                                <p style="font-size: 1.2rem; font-weight: bold; color: var(--primary-dark);">۵۰۰,۰۰۰ دلار</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card" style="margin-top: 30px;">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h2 class="card-title">مدل درآمدی و بازار هدف</h2>
                </div>
                
                <div class="revenue-model">
                    <div class="revenue-item">
                        <h4>فروش مستقیم</h4>
                        <p>فروش پهپاد به سازمان‌های آتش‌نشانی و امداد</p>
                        <div class="revenue-value">۵M دلار</div>
                        <p style="font-size: 0.8rem;">بازار داخلی و منطقه‌ای</p>
                    </div>
                    
                    <div class="revenue-item">
                        <h4>خدمات اشتراکی</h4>
                        <p>ارائه سرویس امداد به صورت ساعتی یا ماهانه</p>
                        <div class="revenue-value">۵۰K دلار/ماه</div>
                        <p style="font-size: 0.8rem;">درآمد مکرر</p>
                    </div>
                    
                    <div class="revenue-item">
                        <h4>پلتفرم نرم‌افزاری</h4>
                        <p>فروش سیستم کنترل و شبیه‌سازی</p>
                        <div class="revenue-value">۲M دلار</div>
                        <p style="font-size: 0.8rem;">لیسانس نرم‌افزار</p>
                    </div>
                    
                    <div class="revenue-item">
                        <h4>آموزش و پشتیبانی</h4>
                        <p>دوره‌های آموزشی و خدمات پس از فروش</p>
                        <div class="revenue-value">۱M دلار/سال</div>
                        <p style="font-size: 0.8rem;">درآمد خدمات</p>
                    </div>
                </div>
                
                <div style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #e3f2fd, #bbdefb); border-radius: var(--radius);">
                    <h3><i class="fas fa-chart-pie"></i> توزیع بازار هدف</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div>
                            <h4>سازمان‌های آتش‌نشانی</h4>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; margin-top: 10px; overflow: hidden;">
                                <div style="width: 40%; height: 100%; background: var(--gradient-primary);"></div>
                            </div>
                            <p style="text-align: left; margin-top: 5px;">۴۰% از درآمد</p>
                        </div>
                        
                        <div>
                            <h4>شهرداری‌های کلان‌شهرها</h4>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; margin-top: 10px; overflow: hidden;">
                                <div style="width: 30%; height: 100%; background: var(--gradient-accent);"></div>
                            </div>
                            <p style="text-align: left; margin-top: 5px;">۳۰% از درآمد</p>
                        </div>
                        
                        <div>
                            <h4>شرکت‌های خصوصی امداد</h4>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; margin-top: 10px; overflow: hidden;">
                                <div style="width: 20%; height: 100%; background: var(--gradient-warning);"></div>
                            </div>
                            <p style="text-align: left; margin-top: 5px;">۲۰% از درآمد</p>
                        </div>
                        
                        <div>
                            <h4>صادرات منطقه‌ای</h4>
                            <div style="height: 10px; background: #e0e0e0; border-radius: 5px; margin-top: 10px; overflow: hidden;">
                                <div style="width: 10%; height: 100%; background: var(--gradient-secondary);"></div>
                            </div>
                            <p style="text-align: left; margin-top: 5px;">۱۰% از درآمد</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Team Tab -->
        <div id="team" class="main-content">
            <h2 class="section-title">تیم توسعه و ساخت پهپاد امداد و نجات</h2>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h2 class="card-title">ساختار تیم پروژه</h2>
                </div>
                
                <div class="specs-grid">
                    <div class="spec-card">
                        <div class="spec-header">
                            <div class="spec-icon">
                                <i class="fas fa-user-tie"></i>
                            </div>
                            <h3>مدیریت پروژه</h3>
                        </div>
                        <ul class="spec-list">
                            <li><span>مدیر پروژه:</span> <strong>مهندس اشکاریان</strong></li>
                            <li><span>معاون فنی:</span> <strong>مهندس گودرزی</strong></li>
                            <li><span>مدیر مالی:</span> <strong>کارشناس ارشد مالی</strong></li>
                            <li><span>مدیر کیفیت:</span> <strong>کارشناس کنترل کیفیت</strong></li>
                        </ul>
                        <div class="spec-value">۲ نفر تمام‌وقت</div>
                    </div>
                    
                    <div class="spec-card">
                        <div class="spec-header">
                            <div class="spec-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <h3>طراحی مکانیک</h3>
                        </div>
                        <ul class="spec-list">
                            <li><span>طراح ارشد:</span> <strong>مهندس مکانیک</strong></li>
                            <li><span>طراح آیرودینامیک:</span> <strong>مهندس هوافضا</strong></li>
                            <li><span>طراح سازه:</span> <strong>مهندس عمران</strong></li>
                            <li><span>نقشه‌کش:</span> <strong>تکنیسین نقشه‌کش</strong></li>
                        </ul>
                        <div class="spec-value">۴ نفر تمام‌وقت</div>
                    </div>
                    
                    <div class="spec-card">
                        <div class="spec-header">
                            <div class="spec-icon">
                                <i class="fas fa-microchip"></i>
                            </div>
                            <h3>الکترونیک و کنترل</h3>
                        </div>
                        <ul class="spec-list">
                            <li><span>مهندس کنترل:</span> <strong>متخصص سیستم‌های کنترل</strong></li>
                            <li><span>مهندس الکترونیک:</span> <strong>طراح مدارهای قدرت</strong></li>
                            <li><span>برنامه‌نویس:</span> <strong>متخصص الگوریتم‌های پرواز</strong></li>
                            <li><span>تست‌کننده:</span> <strong>کارشناس تست سیستم</strong></li>
                        </ul>
                        <div class="spec-value">۴ نفر تمام‌وقت</div>
                    </div>
                    
                    <div class="spec-card">
                        <div class="spec-header">
                            <div class="spec-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <h3>نرم‌افزار و AI</h3>
                        </div>
                        <ul class="spec-list">
                            <li><span>مهندس نرم‌افزار:</span> <strong>توسعه‌دهنده رابط کاربری</strong></li>
                            <li><span>متخصص AI:</span> <strong>توسعه الگوریتم‌های هوشمند</strong></li>
                            <li><span>مهندس شبکه:</span> <strong>متخصص ارتباطات</strong></li>
                            <li><span>کارشناس امنیت:</span> <strong>متخصص امنیت سایبری</strong></li>
                        </ul>
                        <div class="spec-value">۴ نفر تمام‌وقت</div>
                    </div>
                    
                    <div class="spec-card">
                        <div class="spec-header">
                            <div class="spec-icon">
                                <i class="fas fa-tools"></i>
                            </div>
                            <h3>تولید و مونتاژ</h3>
                        </div>
                        <ul class="spec-list">
                            <li><span>سرپرست تولید:</span> <strong>کارشناس ساخت</strong></li>
                            <li><span>اپراتور CNC:</span> <strong>متخصص ماشین‌کاری</strong></li>
                            <li><span>تکنسین مونتاژ:</span> <strong>متخصص اسمبل</strong></li>
                            <li><span>تکنسین تست:</span> <strong>کارشناس آزمایش</strong></li>
                        </ul>
                        <div class="spec-value">۴ نفر تمام‌وقت</div>
                    </div>
                    
                    <div class="spec-card">
                        <div class="spec-header">
                            <div class="spec-icon">
                                <i class="fas fa-clipboard-check"></i>
                            </div>
                            <h3>تأییدیه و استاندارد</h3>
                        </div>
                        <ul class="spec-list">
                            <li><span>کارشناس استاندارد:</span> <strong>متخصص استانداردهای هوایی</strong></li>
                            <li><span>کارشناس ایمنی:</span> <strong>متخصص تحلیل ریسک</strong></li>
                            <li><span>مشاور حقوقی:</span> <strong>وکیل متخصص حقوق هوایی</strong></li>
                            <li><span>مشاور بازاریابی:</span> <strong>متخصص فروش فنی</strong></li>
                        </ul>
                        <div class="spec-value">۴ نفر پاره‌وقت</div>
                    </div>
                </div>
                
                <div style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #f3e5f5, #e1bee7); border-radius: var(--radius); text-align: center;">
                    <h3><i class="fas fa-users-cog"></i> جمع کل تیم پروژه</h3>
                    <div style="font-size: 3rem; font-weight: bold; color: var(--primary); margin: 20px 0;">۱۸ نفر</div>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                        <div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--primary-dark);">۱۴ نفر</div>
                            <p>تمام‌وقت</p>
                        </div>
                        <div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--accent-dark);">۴ نفر</div>
                            <p>پاره‌وقت</p>
                        </div>
                        <div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--warning-dark);">۶ ماه</div>
                            <p>مدت زمان پروژه</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card" style="margin-top: 30px;">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-university"></i>
                    </div>
                    <h2 class="card-title">همکاری‌های دانشگاهی و تحقیقاتی</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 20px;">
                    <div style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 25px; border-radius: var(--radius);">
                        <h4><i class="fas fa-graduation-cap"></i> دانشگاه صنعتی شریف</h4>
                        <ul style="margin-top: 15px; list-style: none;">
                            <li style="padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                <i class="fas fa-check" style="color: var(--accent); margin-left: 10px;"></i>
                                دپارتمان هوافضا: تحلیل آیرودینامیکی
                            </li>
                            <li style="padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                <i class="fas fa-check" style="color: var(--accent); margin-left: 10px;"></i>
                                دپارتمان مکانیک: طراحی سازه
                            </li>
                            <li style="padding: 8px 0;">
                                <i class="fas fa-check" style="color: var(--accent); margin-left: 10px;"></i>
                                دپارتمان کامپیوتر: الگوریتم‌های کنترل
                            </li>
                        </ul>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9); padding: 25px; border-radius: var(--radius);">
                        <h4><i class="fas fa-flask"></i> مراکز تحقیقاتی</h4>
                        <ul style="margin-top: 15px; list-style: none;">
                            <li style="padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                <i class="fas fa-check" style="color: var(--accent); margin-left: 10px;"></i>
                                پژوهشگاه هوافضا: تست‌های تونل باد
                            </li>
                            <li style="padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                <i class="fas fa-check" style="color: var(--accent); margin-left: 10px;"></i>
                                سازمان آتش‌نشانی: تست‌های عملیاتی
                            </li>
                            <li style="padding: 8px 0;">
                                <i class="fas fa-check" style="color: var(--accent); margin-left: 10px;"></i>
                                مرکز تحقیقات راه‌آهن: تست سیستم‌های ایمنی
                            </li>
                        </ul>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 25px; border-radius: var(--radius);">
                        <h4><i class="fas fa-handshake"></i> شرکای صنعتی</h4>
                        <ul style="margin-top: 15px; list-style: none;">
                            <li style="padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                <i class="fas fa-check" style="color: var(--accent); margin-left: 10px;"></i>
                                شرکت‌های تولید قطعات الکترونیک
                            </li>
                            <li style="padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
                                <i class="fas fa-check" style="color: var(--accent); margin-left: 10px;"></i>
                                کارخانه‌های تولید بدنه کامپوزیت
                            </li>
                            <li style="padding: 8px 0;">
                                <i class="fas fa-check" style="color: var(--accent); margin-left: 10px;"></i>
                                شرکت‌های خدمات پس از فروش
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>اطلاعات ثبت و مالکیت فکری</h3>
                    <div class="patent-info">
                        <p><strong>شماره پرونده پتنت:</strong> IR-2026-08765-GDRZ</p>
                        <p><strong>ثبت شده به نام:</strong> گودرزی D&T</p>
                        <p><strong>مالک معنوی:</strong> eSmartis Ltd, Ashkarian.R</p>
                        <p><strong>مکان ثبت:</strong> شهرک دانشگاه شریف، تهران</p>
                        <p><strong>تاریخ ثبت:</strong> فروردین ۱۴۰۵</p>
                        <p><strong>مدت اعتبار پتنت:</strong> ۲۰ سال</p>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>تیم توسعه و پشتیبانی</h3>
                    <ul class="team-list">
                        <li>مدیر پروژه: مهندس اشکاریان</li>
                        <li>مشاور فنی: مهندس گودرزی</li>
                        <li>طراح ارشد: تیم مهندسی مکانیک</li>
                        <li>توسعه نرم‌افزار: تیم برنامه‌نویسی</li>
                        <li>پشتیبانی فنی: کارشناسان تعمیر و نگهداری</li>
                        <li>مشاوره حقوقی: وکلای متخصص</li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>تماس با ما</h3>
                    <div style="margin-top: 15px;">
                        <p><i class="fas fa-map-marker-alt"></i> آدرس: شهرک دانشگاه شریف، بلوار پژوهش، پلاک ۱۲</p>
                        <p><i class="fas fa-phone"></i> تلفن: ۰۲۱-۸۸۸۸۸۸۸۸</p>
                        <p><i class="fas fa-envelope"></i> ایمیل: info@esmartis-drone.com</p>
                        <p><i class="fas fa-globe"></i> وب‌سایت: www.esmartis-drone.com</p>
                    </div>
                    
                    <div style="margin-top: 20px; display: flex; gap: 15px;">
                        <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-twitter"></i>
                        </div>
                        <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-linkedin"></i>
                        </div>
                        <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-telegram"></i>
                        </div>
                        <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-youtube"></i>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>پروپوزال کامل طراحی و تولید پهپاد عمودپرواز امداد و نجات شهری با قابلیت حمل ۴۲۰ کیلوگرم مخزن اطفاء حریق</p>
                <p style="color: var(--accent); font-weight: bold; margin-top: 10px; animation: pulse 2s infinite;">
                    نوآوری در سیستم‌های حمل بار سنگین با سطح مقطع کوچک و کارایی بالا در محیط‌های شهری
                </p>
                <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.8;">
                    این سند شامل اطلاعات محرمانه بوده و هرگونه کپی‌برداری بدون مجوز کتبی پیگرد قانونی دارد
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Tab Navigation
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.main-content');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs and contents
                tabs.forEach(t => t.classList.remove('active'));
                contents.forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                tab.classList.add('active');
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // Advanced Simulation System
        class AdvancedDroneSimulation {
            constructor() {
                this.drone = null;
                this.buildings = [];
                this.fires = [];
                this.people = [];
                this.waterStreams = [];
                this.isRunning = false;
                this.isPaused = false;
                this.isAutoMode = false;
                this.armsExtended = true;
                this.waterSpraying = false;
                this.chuteDeployed = false;
                this.rescueInProgress = false;
                this.droneX = 400;
                this.droneY = 300;
                this.altitude = 0;
                this.speed = 0;
                this.battery = 92;
                this.waterLevel = 100;
                this.motors = 8;
                this.windSpeed = 18;
                this.rescuedPeople = 0;
                this.extinguishedFires = 0;
                this.startTime = null;
                this.currentTime = 0;
                this.logEntries = [];
                this.simulationSpeed = 5;
                
                this.init();
            }
            
            init() {
                this.createCity();
                this.createDrone();
                this.updateStatus();
                this.setupEventListeners();
                this.log('سیستم شبیه‌سازی آماده است');
            }
            
            createCity() {
                const area = document.getElementById('simulationArea');
                
                // Create multiple buildings
                const buildingCount = 5;
                for (let i = 0; i < buildingCount; i++) {
                    const building = document.createElement('div');
                    building.className = 'building';
                    building.style.width = `${60 + Math.random() * 40}px`;
                    building.style.height = `${200 + Math.random() * 300}px`;
                    building.style.right = `${100 + i * 180}px`;
                    building.id = `building-${i}`;
                    
                    // Add windows
                    const windows = document.createElement('div');
                    windows.className = 'building-windows';
                    
                    const floors = Math.floor(parseInt(building.style.height) / 20);
                    const windowsPerFloor = 3;
                    
                    for (let floor = 0; floor < floors; floor++) {
                        for (let col = 0; col < windowsPerFloor; col++) {
                            const window = document.createElement('div');
                            window.className = 'window';
                            window.style.width = '12px';
                            window.style.height = '16px';
                            window.style.right = `${10 + col * 20}px`;
                            window.style.bottom = `${10 + floor * 20}px`;
                            
                            // Randomly set some windows on fire
                            if (i === 2 && floor >= 10 && floor <= 13 && col === 1) {
                                window.classList.add('on-fire');
                                window.id = `fire-${i}-${floor}-${col}`;
                                this.fires.push(window);
                            }
                            
                            windows.appendChild(window);
                        }
                    }
                    
                    building.appendChild(windows);
                    area.appendChild(building);
                    this.buildings.push(building);
                    
                    // Add people to some buildings
                    if (i === 2) {
                        const peopleFloors = [10, 15, 18];
                        peopleFloors.forEach((floor, index) => {
                            const person = document.createElement('div');
                            person.className = 'person';
                            person.style.right = '50px';
                            person.style.bottom = `${10 + floor * 20}px`;
                            person.id = `person-${floor}`;
                            person.textContent = `${index + 1}`;
                            person.dataset.floor = floor;
                            building.appendChild(person);
                            this.people.push(person);
                        });
                    }
                }
            }
            
            createDrone() {
                const area = document.getElementById('simulationArea');
                
                this.drone = document.createElement('div');
                this.drone.className = 'drone';
                this.drone.id = 'simDrone';
                this.drone.style.right = `${this.droneX}px`;
                this.drone.style.bottom = `${this.droneY}px`;
                
                // Drone body
                const body = document.createElement('div');
                body.className = 'drone-body';
                body.textContent = 'DRONE-01';
                
                // Drone arms
                const arms = document.createElement('div');
                arms.style.position = 'absolute';
                arms.style.width = '100%';
                arms.style.height = '100%';
                arms.style.display = 'flex';
                arms.style.justifyContent = 'space-between';
                
                ['left', 'right'].forEach(side => {
                    const arm = document.createElement('div');
                    arm.className = 'drone-arm';
                    arm.style.width = this.armsExtended ? '50px' : '25px';
                    arm.style.height = '8px';
                    arm.style[side === 'left' ? 'right' : 'left'] = '100%';
                    arm.style.top = '50%';
                    arm.style.transform = 'translateY(-50%)';
                    arm.id = `arm-${side}`;
                    arms.appendChild(arm);
                });
                
                body.appendChild(arms);
                this.drone.appendChild(body);
                area.appendChild(this.drone);
            }
            
            setupEventListeners() {
                // Simulation controls
                document.getElementById('startSim').addEventListener('click', () => this.startSimulation());
                document.getElementById('pauseSim').addEventListener('click', () => this.togglePause());
                document.getElementById('resetSim').addEventListener('click', () => this.resetSimulation());
                document.getElementById('autoSim').addEventListener('click', () => this.toggleAutoMode());
                
                // Manual controls
                document.getElementById('moveUp').addEventListener('click', () => this.move(0, -20));
                document.getElementById('moveDown').addEventListener('click', () => this.move(0, 20));
                document.getElementById('moveLeft').addEventListener('click', () => this.move(-20, 0));
                document.getElementById('moveRight').addEventListener('click', () => this.move(20, 0));
                document.getElementById('sprayWater').addEventListener('click', () => this.sprayWater());
                document.getElementById('deployChute').addEventListener('click', () => this.deployChute());
                document.getElementById('rescuePerson').addEventListener('click', () => this.startRescue());
                
                // Keyboard controls
                document.addEventListener('keydown', (e) => {
                    if (!this.isRunning || this.isPaused) return;
                    
                    switch(e.key) {
                        case 'ArrowUp': this.move(0, -20); break;
                        case 'ArrowDown': this.move(0, 20); break;
                        case 'ArrowLeft': this.move(-20, 0); break;
                        case 'ArrowRight': this.move(20, 0); break;
                        case ' ': this.sprayWater(); break;
                        case 'r': case 'R': this.deployChute(); break;
                        case 'e': case 'E': this.startRescue(); break;
                        case 'p': case 'P': this.togglePause(); break;
                    }
                });
                
                // Simulation speed control
                const speedControl = document.getElementById('simSpeed');
                speedControl.addEventListener('input', (e) => {
                    this.simulationSpeed = parseInt(e.target.value);
                });
                
                // Click to select person
                this.people.forEach(person => {
                    person.addEventListener('click', () => {
                        if (this.isRunning && !this.isPaused && !this.rescueInProgress) {
                            this.selectPersonForRescue(person);
                        }
                    });
                });
            }
            
            startSimulation() {
                if (this.isRunning) return;
                
                this.isRunning = true;
                this.startTime = new Date();
                this.log('شبیه‌سازی شروع شد');
                
                // Start animation and updates
                this.drone.classList.add('float');
                
                // Battery drain
                this.batteryDrainInterval = setInterval(() => {
                    if (this.battery > 0) {
                        this.battery -= 0.05 * (this.simulationSpeed / 5);
                        this.updateStatus();
                    } else {
                        this.log('باتری تمام شد! عملیات متوقف شد.');
                        this.stopSimulation();
                    }
                }, 1000);
                
                // Main simulation loop
                this.simulationInterval = setInterval(() => {
                    if (!this.isPaused) {
                        this.updateSimulation();
                    }
                }, 1000 / this.simulationSpeed);
                
                // Update timer
                this.timeInterval = setInterval(() => {
                    if (!this.isPaused) {
                        this.currentTime = Math.floor((new Date() - this.startTime) / 1000);
                        this.updateTimer();
                    }
                }, 1000);
                
                // Auto mode logic
                if (this.isAutoMode) {
                    this.startAutoMode();
                }
            }
            
            togglePause() {
                this.isPaused = !this.isPaused;
                const pauseBtn = document.getElementById('pauseSim');
                if (this.isPaused) {
                    this.log('شبیه‌سازی متوقف شد');
                    pauseBtn.innerHTML = '<i class="fas fa-play"></i> ادامه';
                    this.drone.classList.remove('float');
                } else {
                    this.log('شبیه‌سازی ادامه یافت');
                    pauseBtn.innerHTML = '<i class="fas fa-pause"></i> توقف';
                    this.drone.classList.add('float');
                }
            }
            
            stopSimulation() {
                this.isRunning = false;
                this.isPaused = false;
                clearInterval(this.batteryDrainInterval);
                clearInterval(this.simulationInterval);
                clearInterval(this.timeInterval);
                this.drone.classList.remove('float');
                this.log('شبیه‌سازی پایان یافت');
            }
            
            resetSimulation() {
                this.stopSimulation();
                
                // Reset all variables
                this.droneX = 400;
                this.droneY = 300;
                this.altitude = 0;
                this.speed = 0;
                this.battery = 92;
                this.waterLevel = 100;
                this.motors = 8;
                this.rescuedPeople = 0;
                this.extinguishedFires = 0;
                this.currentTime = 0;
                this.waterSpraying = false;
                this.chuteDeployed = false;
                this.rescueInProgress = false;
                
                // Reset drone position
                this.updateDronePosition();
                
                // Reset fires
                this.fires.forEach(fire => {
                    fire.classList.add('on-fire');
                    fire.style.opacity = '1';
                    fire.style.transform = 'scale(1)';
                });
                
                // Reset people
                this.people.forEach(person => {
                    person.classList.remove('rescued');
                    person.style.display = 'flex';
                });
                
                // Remove parachute if exists
                const parachute = document.getElementById('parachute');
                if (parachute) parachute.remove();
                
                // Remove water streams
                this.waterStreams.forEach(stream => {
                    if (stream.parentNode) stream.remove();
                });
                this.waterStreams = [];
                
                this.updateStatus();
                this.log('شبیه‌سازی بازنشانی شد');
            }
            
            toggleAutoMode() {
                this.isAutoMode = !this.isAutoMode;
                const autoBtn = document.getElementById('autoSim');
                
                if (this.isAutoMode) {
                    autoBtn.innerHTML = '<i class="fas fa-user"></i> حالت دستی';
                    this.log('حالت خودکار فعال شد');
                    if (this.isRunning && !this.isPaused) {
                        this.startAutoMode();
                    }
                } else {
                    autoBtn.innerHTML = '<i class="fas fa-robot"></i> حالت خودکار';
                    this.log('حالت دستی فعال شد');
                }
            }
            
            startAutoMode() {
                // Auto mode logic for extinguishing fires and rescuing people
                if (!this.isRunning || this.isPaused || !this.isAutoMode) return;
                
                // Find nearest fire
                let nearestFire = null;
                let minDistance = Infinity;
                
                this.fires.forEach(fire => {
                    if (fire.classList.contains('on-fire')) {
                        const fireRect = fire.getBoundingClientRect();
                        const droneRect = this.drone.getBoundingClientRect();
                        const distance = Math.sqrt(
                            Math.pow(fireRect.left - droneRect.left, 2) +
                            Math.pow(fireRect.top - droneRect.top, 2)
                        );
                        
                        if (distance < minDistance) {
                            minDistance = distance;
                            nearestFire = fire;
                        }
                    }
                });
                
                // If fire found, move towards it and extinguish
                if (nearestFire && minDistance > 100) {
                    const fireRect = nearestFire.getBoundingClientRect();
                    const droneRect = this.drone.getBoundingClientRect();
                    
                    const dx = fireRect.left - droneRect.left;
                    const dy = fireRect.top - droneRect.top;
                    
                    // Move towards fire
                    this.move(dx > 0 ? 15 : -15, dy > 0 ? 10 : -10);
                    
                    // If close enough, spray water
                    if (minDistance < 150 && this.waterLevel > 20) {
                        this.sprayWater();
                    }
                }
                // If no fires, look for people to rescue
                else if (this.rescuedPeople < this.people.length) {
                    const person = this.people[this.rescuedPeople];
                    if (!person.classList.contains('rescued')) {
                        const personRect = person.getBoundingClientRect();
                        const droneRect = this.drone.getBoundingClientRect();
                        
                        const dx = personRect.left - droneRect.left;
                        const dy = personRect.top - droneRect.top;
                        
                        // Move towards person
                        this.move(dx > 0 ? 15 : -15, dy > 0 ? 10 : -10);
                        
                        // If close enough, start rescue
                        if (Math.abs(dx) < 50 && Math.abs(dy) < 50) {
                            this.selectPersonForRescue(person);
                        }
                    }
                }
                
                // Continue auto mode
                if (this.isAutoMode) {
                    setTimeout(() => this.startAutoMode(), 500);
                }
            }
            
            updateSimulation() {
                // Update wind speed randomly
                this.windSpeed = 10 + Math.random() * 20;
                
                // Apply wind effect to drone
                if (this.windSpeed > 15) {
                    this.droneX += (Math.random() - 0.5) * (this.windSpeed / 5);
                    this.droneX = Math.max(50, Math.min(750, this.droneX));
                }
                
                // Update drone position
                this.updateDronePosition();
                
                // Check collisions
                this.checkCollisions();
                
                // Check fire extinguishing
                this.checkFireExtinguishing();
                
                // Update status
                this.updateStatus();
            }
            
            move(dx, dy) {
                if (!this.isRunning || this.isPaused) return;
                
                // Adjust for simulation speed
                dx = dx * (this.simulationSpeed / 5);
                dy = dy * (this.simulationSpeed / 5);
                
                this.droneX += dx;
                this.droneY += dy;
                
                // Boundary checks
                this.droneX = Math.max(50, Math.min(750, this.droneX));
                this.droneY = Math.max(50, Math.min(450, this.droneY));
                
                this.speed = Math.sqrt(dx * dx + dy * dy) * 2;
                this.updateDronePosition();
            }
            
            updateDronePosition() {
                if (!this.drone) return;
                
                this.drone.style.right = `${this.droneX}px`;
                this.drone.style.bottom = `${this.droneY}px`;
                
                // Calculate altitude based on Y position
                this.altitude = Math.floor((500 - this.droneY) / 2);
            }
            
            sprayWater() {
                if (!this.isRunning || this.isPaused || this.waterLevel <= 0) return;
                
                this.waterSpraying = true;
                this.waterLevel -= 3;
                
                // Create water stream
                const area = document.getElementById('simulationArea');
                const water = document.createElement('div');
                water.className = 'water-stream';
                water.style.width = '25px';
                water.style.height = '120px';
                water.style.right = `${this.droneX + 25}px`;
                water.style.bottom = `${this.droneY - 120}px`;
                water.id = `water-${Date.now()}`;
                
                area.appendChild(water);
                this.waterStreams.push(water);
                
                // Remove water after animation
                setTimeout(() => {
                    const index = this.waterStreams.indexOf(water);
                    if (index > -1) {
                        this.waterStreams.splice(index, 1);
                    }
                    if (water.parentNode) {
                        water.remove();
                    }
                }, 800);
                
                this.log('عملیات پاشش آب انجام شد');
            }
            
            checkFireExtinguishing() {
                // Check if water streams are hitting fires
                this.waterStreams.forEach(water => {
                    const waterRect = water.getBoundingClientRect();
                    
                    this.fires.forEach(fire => {
                        if (fire.classList.contains('on-fire')) {
                            const fireRect = fire.getBoundingClientRect();
                            
                            // Simple collision detection
                            if (Math.abs(fireRect.left - waterRect.left) < 50 &&
                                Math.abs(fireRect.top - waterRect.top) < 100) {
                                
                                // Reduce fire intensity
                                const opacity = parseFloat(fire.style.opacity || 1);
                                fire.style.opacity = (opacity - 0.2).toString();
                                
                                // If fire is almost out, remove it
                                if (opacity < 0.3) {
                                    fire.classList.remove('on-fire');
                                    this.extinguishedFires++;
                                    this.log(`آتش خاموش شد! (${this.extinguishedFires}/${this.fires.length})`);
                                }
                            }
                        }
                    });
                });
            }
            
            deployChute() {
                if (this.chuteDeployed) return;
                
                this.chuteDeployed = true;
                this.speed *= 0.3;
                
                // Add parachute
                const chute = document.createElement('div');
                chute.className = 'parachute';
                chute.id = 'parachute';
                this.drone.appendChild(chute);
                
                this.log('چتر نجات فعال شد');
            }
            
            startRescue() {
                if (this.rescueInProgress || this.rescuedPeople >= this.people.length) return;
                
                // Find nearest person not rescued
                let nearestPerson = null;
                let minDistance = Infinity;
                
                this.people.forEach(person => {
                    if (!person.classList.contains('rescued')) {
                        const personRect = person.getBoundingClientRect();
                        const droneRect = this.drone.getBoundingClientRect();
                        const distance = Math.sqrt(
                            Math.pow(personRect.left - droneRect.left, 2) +
                            Math.pow(personRect.top - droneRect.top, 2)
                        );
                        
                        if (distance < minDistance) {
                            minDistance = distance;
                            nearestPerson = person;
                        }
                    }
                });
                
                if (nearestPerson && minDistance < 100) {
                    this.selectPersonForRescue(nearestPerson);
                } else {
                    this.log('هیچ فردی در محدوده نجات نیست');
                }
            }
            
            selectPersonForRescue(person) {
                if (this.rescueInProgress) return;
                
                this.rescueInProgress = true;
                const floor = parseInt(person.dataset.floor);
                
                this.log(`عملیات نجات فرد در طبقه ${floor} شروع شد`);
                
                // Simulate rescue process
                setTimeout(() => {
                    person.classList.add('rescued');
                    this.rescuedPeople++;
                    this.rescueInProgress = false;
                    
                    this.log(`فرد در طبقه ${floor} نجات یافت! (${this.rescuedPeople}/${this.people.length})`);
                    
                    // Update load weight
                    document.getElementById('loadWeight').textContent = `${this.rescuedPeople * 80} کیلوگرم`;
                }, 3000);
            }
            
            checkCollisions() {
                // Check collision with buildings
                const droneRect = this.drone.getBoundingClientRect();
                
                this.buildings.forEach(building => {
                    const buildingRect = building.getBoundingClientRect();
                    
                    if (droneRect.right > buildingRect.left - 30 &&
                        droneRect.left < buildingRect.right + 30 &&
                        droneRect.bottom > buildingRect.top - 30) {
                        
                        // Simulate collision damage
                        if (Math.random() > 0.98 && this.motors > 4) {
                            this.motors--;
                            this.log(`برخورد با ساختمان! موتور از دست رفته. موتورهای باقی‌مانده: ${this.motors}`);
                            this.updateMotorStatus();
                        }
                    }
                });
            }
            
            updateMotorStatus() {
                const status = document.getElementById('motorStatus');
                const value = document.getElementById('motorValue');
                
                value.textContent = `${this.motors}/۸`;
                
                if (this.motors >= 7) {
                    status.className = 'status-indicator';
                } else if (this.motors >= 5) {
                    status.className = 'status-indicator warning';
                } else {
                    status.className = 'status-indicator danger';
                }
            }
            
            updateStatus() {
                // Update battery status
                const batteryStatus = document.getElementById('batteryStatus');
                const batteryValue = document.getElementById('batteryValue');
                batteryValue.textContent = `${Math.floor(this.battery)}%`;
                
                if (this.battery > 30) {
                    batteryStatus.className = 'status-indicator';
                } else if (this.battery > 10) {
                    batteryStatus.className = 'status-indicator warning';
                } else {
                    batteryStatus.className = 'status-indicator danger';
                }
                
                // Update water status
                const waterStatus = document.getElementById('waterStatus');
                const waterValue = document.getElementById('waterValue');
                waterValue.textContent = `${Math.floor(this.waterLevel)}%`;
                
                if (this.waterLevel > 30) {
                    waterStatus.className = 'status-indicator';
                } else if (this.waterLevel > 10) {
                    waterStatus.className = 'status-indicator warning';
                } else {
                    waterStatus.className = 'status-indicator danger';
                }
                
                // Update altitude status
                const altitudeStatus = document.getElementById('altitudeStatus');
                const altitudeValue = document.getElementById('altitudeValue');
                altitudeValue.textContent = `${this.altitude} متر`;
                
                if (this.altitude < 100) {
                    altitudeStatus.className = 'status-indicator';
                } else if (this.altitude < 200) {
                    altitudeStatus.className = 'status-indicator warning';
                } else {
                    altitudeStatus.className = 'status-indicator danger';
                }
                
                // Update motor status
                this.updateMotorStatus();
                
                // Update wind speed
                document.getElementById('windSpeed').textContent = `${Math.floor(this.windSpeed)} کیلومتر/ساعت`;
            }
            
            updateTimer() {
                const minutes = Math.floor(this.currentTime / 60);
                const seconds = this.currentTime % 60;
                document.getElementById('flightTime').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            
            log(message) {
                const timestamp = new Date().toLocaleTimeString('fa-IR', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    second: '2-digit'
                });
                
                this.logEntries.push(`${timestamp}: ${message}`);
                const logElement = document.getElementById('simulationLog');
                logElement.innerHTML = this.logEntries.slice(-6).map(entry => 
                    `<p><i class="fas fa-info-circle" style="color: var(--primary-light); margin-left: 5px;"></i> ${entry}</p>`
                ).join('');
                logElement.scrollTop = logElement.scrollHeight;
            }
        }
        
        // Initialize simulation
        let advancedSimulation;
        
        document.addEventListener('DOMContentLoaded', () => {
            advancedSimulation = new AdvancedDroneSimulation();
            
            // Initialize Gantt Chart
            initAdvancedGanttChart();
            
            // Initialize Scenario Selector
            initScenarioSelector();
            
            // Initialize other components
            initProgressTracking();
        });
        
        // Advanced Gantt Chart
        function initAdvancedGanttChart() {
            const tasks = [
                { 
                    id: 1, 
                    name: 'تعریف مسئله و مهندسی کردن', 
                    start: 0, 
                    duration: 2, 
                    color: '#ff6b6b',
                    details: 'تبدیل ایده فانتزی به مسئله مهندسی - نیاز به ۲ هفته کار فشرده',
                    milestones: [],
                    dependencies: []
                },
                { 
                    id: 2, 
                    name: 'بررسی نمونه‌های موجود', 
                    start: 2, 
                    duration: 2, 
                    color: '#48dbfb',
                    details: 'بررسی فنی نمونه‌های موجود در بازار جهانی - تحلیل نقاط قوت و ضعف',
                    milestones: [],
                    dependencies: [1]
                },
                { 
                    id: 3, 
                    name: 'ایده‌پردازی و نوآوری', 
                    start: 4, 
                    duration: 6, 
                    color: '#1dd1a1',
                    details: 'تولید ۳-۵ ایده نوآورانه برای حمل بار سنگین - کارگاه‌های خلاقیت',
                    milestones: ['ایده اولیه'],
                    dependencies: [2],
                    critical: true
                },
                { 
                    id: 4, 
                    name: 'بررسی عملی بودن', 
                    start: 10, 
                    duration: 4, 
                    color: '#f368e0',
                    details: 'بررسی فنی و اقتصادی ایده منتخب - تحلیل ریسک و بازگشت سرمایه',
                    milestones: [],
                    dependencies: [3]
                },
                { 
                    id: 5, 
                    name: 'طراحی بدنه و آیرودینامیک', 
                    start: 14, 
                    duration: 2, 
                    color: '#ff9f43',
                    details: 'محاسبات طراحی بدنه و آیرودینامیک - مدل‌سازی سه بعدی',
                    milestones: [],
                    dependencies: [4]
                },
                { 
                    id: 6, 
                    name: 'شبیه‌سازی نرم‌افزار کنترل', 
                    start: 16, 
                    duration: 10, 
                    color: '#54a0ff',
                    details: 'توسعه الگوریتم‌های کنترل و شبکه‌ای - تست در محیط شبیه‌سازی',
                    milestones: ['پروتکل کنترل'],
                    dependencies: [5],
                    critical: true
                },
                { 
                    id: 7, 
                    name: 'ساخت نمونه اولیه', 
                    start: 26, 
                    duration: 3, 
                    color: '#5f27cd',
                    details: 'ساخت و مونتاژ نمونه اولیه با تیم ۲ نفره - خرید و نصب قطعات',
                    milestones: ['نمونه فیزیکی'],
                    dependencies: [6]
                },
                { 
                    id: 8, 
                    name: 'تست اولیه و رفع اشکال', 
                    start: 29, 
                    duration: 6, 
                    color: '#00d2d3',
                    details: 'آزمایش نمونه و رفع باگ‌های نرم‌افزاری و سخت‌افزاری',
                    milestones: ['تست استاتیک'],
                    dependencies: [7]
                },
                { 
                    id: 9, 
                    name: 'پرواز آزمایشی کامل', 
                    start: 35, 
                    duration: 2, 
                    color: '#ff9ff3',
                    details: 'تست نهایی با وزنه‌های مشابه شرایط واقعی - اطفاء و نجات آزمایشی',
                    milestones: ['پرواز موفق'],
                    dependencies: [8],
                    critical: true
                }
            ];
            
            const ganttGrid = document.getElementById('ganttGrid');
            
            // Create month headers
            for (let i = 0; i < 12; i++) {
                const monthDiv = document.createElement('div');
                monthDiv.className = 'gantt-month';
                monthDiv.textContent = `ماه ${i + 1}`;
                monthDiv.title = `هفته ${i*4 + 1} تا ${(i+1)*4}`;
                ganttGrid.appendChild(monthDiv);
            }
            
            // Create task rows
            tasks.forEach(task => {
                // Task label
                const labelDiv = document.createElement('div');
                labelDiv.className = 'task-label';
                labelDiv.innerHTML = `
                    ${task.name}
                    ${task.critical ? '<span class="badge danger">بحرانی</span>' : ''}
                `;
                
                // Progress bar container
                const progressDiv = document.createElement('div');
                progressDiv.className = 'task-progress';
                
                // Progress bar
                const barDiv = document.createElement('div');
                barDiv.className = 'task-bar';
                barDiv.style.background = `linear-gradient(135deg, ${task.color}, ${darkenColor(task.color, 30)})`;
                barDiv.style.width = `${(task.duration / 48) * 100}%`;
                barDiv.style.marginLeft = `${(task.start / 48) * 100}%`;
                barDiv.textContent = `${task.duration} هفته`;
                barDiv.dataset.taskId = task.id;
                
                // Tooltip
                const tooltip = document.createElement('div');
                tooltip.className = 'task-tooltip';
                tooltip.innerHTML = `
                    <strong>${task.name}</strong><br>
                    مدت: ${task.duration} هفته<br>
                    ${task.details}
                `;
                barDiv.appendChild(tooltip);
                
                // Milestones
                task.milestones.forEach((milestone, index) => {
                    const milestoneDiv = document.createElement('div');
                    milestoneDiv.className = 'task-milestone';
                    milestoneDiv.style.left = `${((index + 0.5) / task.milestones.length) * 100}%`;
                    milestoneDiv.title = milestone;
                    barDiv.appendChild(milestoneDiv);
                });
                
                // Click event for details
                barDiv.addEventListener('click', (e) => {
                    e.stopPropagation();
                    showTaskDetails(task);
                });
                
                progressDiv.appendChild(barDiv);
                
                // Add to grid
                ganttGrid.appendChild(labelDiv);
                ganttGrid.appendChild(progressDiv);
            });
            
            // Add dependencies lines (simplified)
            setTimeout(() => {
                addDependencyLines(tasks);
            }, 100);
            
            // Update progress
            updateGanttProgress();
        }
        
        function darkenColor(color, percent) {
            const num = parseInt(color.replace('#', ''), 16);
            const amt = Math.round(2.55 * percent);
            const R = (num >> 16) - amt;
            const G = (num >> 8 & 0x00FF) - amt;
            const B = (num & 0x0000FF) - amt;
            
            return '#' + (
                0x1000000 +
                (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +
                (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +
                (B < 255 ? B < 1 ? 0 : B : 255)
            ).toString(16).slice(1);
        }
        
        function addDependencyLines(tasks) {
            // This is a simplified visualization
            // In a real implementation, you would use SVG or canvas for proper dependency lines
            console.log('Dependency lines would be drawn here');
        }
        
        function updateGanttProgress() {
            // Simulate progress
            const progress = 25; // 25% progress for demo
            
            const progressFill = document.getElementById('overallProgress');
            progressFill.textContent = `${progress}%`;
            
            // Update other stats
            document.getElementById('timeSpent').textContent = '۱۲ هفته';
            document.getElementById('criticalTasks').textContent = '۳';
            document.getElementById('completionDate').textContent = '۱۴۰۵/۱۲/۱۵';
        }
        
        function showTaskDetails(task) {
            // Create modal content
            const details = document.getElementById('taskDetails');
            details.innerHTML = `
                <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                    <h3 style="color: var(--primary-dark); margin-bottom: 15px;">${task.name}</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <p><strong>مدت زمان:</strong> ${task.duration} هفته</p>
                            <p><strong>شروع:</strong> هفته ${task.start + 1}</p>
                            <p><strong>پایان:</strong> هفته ${task.start + task.duration}</p>
                        </div>
                        <div>
                            <p><strong>وضعیت:</strong> ${task.critical ? '<span class="badge danger">بحرانی</span>' : '<span class="badge">عادی</span>'}</p>
                            <p><strong>وابستگی‌ها:</strong> ${task.dependencies.length > 0 ? task.dependencies.join(', ') : 'ندارد'}</p>
                        </div>
                    </div>
                    <div style="background: #f5f5f5; padding: 15px; border-radius: var(--radius-small);">
                        <h4 style="color: var(--primary-dark); margin-bottom: 10px;">توضیحات:</h4>
                        <p>${task.details}</p>
                    </div>
                    ${task.milestones.length > 0 ? `
                    <div style="margin-top: 20px;">
                        <h4 style="color: var(--primary-dark); margin-bottom: 10px;">میل‌استون‌ها:</h4>
                        <ul style="margin-right: 20px;">
                            ${task.milestones.map(milestone => `<li>${milestone}</li>`).join('')}
                        </ul>
                    </div>
                    ` : ''}
                </div>
            `;
            
            // Scroll to details
            details.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        // Scenario Selector
        function initScenarioSelector() {
            const scenarioCards = document.querySelectorAll('.scenario-card');
            
            scenarioCards.forEach(card => {
                card.addEventListener('click', () => {
                    // Remove active class from all cards
                    scenarioCards.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked card
                    card.classList.add('active');
                    
                    // Update scenario details
                    const scenario = card.getAttribute('data-scenario');
                    updateScenarioDetails(scenario);
                });
            });
            
            // Set first scenario as active by default
            if (scenarioCards.length > 0) {
                scenarioCards[0].click();
            }
        }
        
        function updateScenarioDetails(scenario) {
            const details = document.getElementById('scenarioDetails');
            
            const scenarios = {
                fire: {
                    title: 'آتش‌سوزی ساختمان بلندمرتبه',
                    description: 'عملیات اطفاء حریق در ساختمان ۳۰ طبقه با چند کانون آتش در طبقات مختلف',
                    objectives: [
                        'خاموش کردن ۴ کانون آتش در طبقات ۸، ۱۲، ۱۸، ۲۲',
                        'جلوگیری از گسترش آتش به طبقات دیگر',
                        'خنک‌سازی ساختمان برای ورود آتش‌نشانان',
                        'تأمین دید برای تخلیه ساختمان'
                    ],
                    procedure: [
                        { step: 'شناسایی و ارزیابی', time: '۲ دقیقه', details: 'پرواز شناسایی و تعیین کانون‌های آتش' },
                        { step: 'استقرار استراتژیک', time: '۱ دقیقه', details: 'موقعیت‌گیری پهپادها در نقاط کلیدی' },
                        { step: 'اطفاء اولیه', time: '۵ دقیقه', details: 'پاشش آب با فشار بالا روی کانون‌های اصلی' },
                        { step: 'خنک‌سازی', time: '۴ دقیقه', details: 'پاشش مه آب برای خنک‌سازی کلی ساختمان' },
                        { step: 'بررسی نهایی', time: '۳ دقیقه', details: 'ارزیابی نتیجه و اطمینان از خاموشی کامل' }
                    ],
                    requirements: [
                        '۳ پهپاد مجهز به سیستم اطفاء',
                        'ذخیره آب کل: ۱۲۶۰ لیتر',
                        'باتری اضافی برای هر پهپاد',
                        'تیم کنترل زمینی ۳ نفره'
                    ],
                    successRate: '۸۵٪',
                    avgTime: '۱۵ دقیقه'
                },
                rescue: {
                    title: 'نجات افراد محبوس در ساختمان',
                    description: 'نجات افراد از طبقات ۱۰ تا ۲۰ ساختمان‌های بلند با سیستم تعلیق ایمن',
                    objectives: [
                        'نجات ۶ نفر از طبقات مختلف',
                        'ایجاد راه امن برای خروج',
                        'ارزیابی شرایط سلامت افراد',
                        'انتقال ایمن به زمین'
                    ],
                    procedure: [
                        { step: 'شناسایی افراد', time: '۲ دقیقه', details: 'مشخص کردن موقعیت دقیق افراد نیازمند نجات' },
                        { step: 'برقراری ارتباط', time: '۱ دقیقه', details: 'ارتباط صوتی و تصویری با افراد' },
                        { step: 'نصب سیستم تعلیق', time: '۳ دقیقه', details: 'نصب و تست سیستم تعلیق ایمن' },
                        { step: 'انتقال تدریجی', time: '۱۲ دقیقه', details: 'انتقال افراد به صورت یک به یک' },
                        { step: 'تحویل به تیم امداد', time: '۲ دقیقه', details: 'تحویل افراد به تیم امداد زمینی' }
                    ],
                    requirements: [
                        '۲ پهپاد مجهز به سیستم نجات',
                        'سیستم تعلیق با ظرفیت ۵۰۰ کیلوگرم',
                        'دوربین با زوم بالا',
                        'سیستم ارتباط دوطرفه'
                    ],
                    successRate: '۹۰٪',
                    avgTime: '۲۰ دقیقه'
                },
                combined: {
                    title: 'عملیات ترکیبی امدادی',
                    description: 'اطفاء حریق همزمان با عملیات نجات در شرایط بحرانی ساختمان بلند',
                    objectives: [
                        'کنترل آتش در حین عملیات نجات',
                        'ایجاد مسیر امن برای نجات',
                        'هماهنگی بین پهپادهای تخصصی',
                        'انجام دو مأموریت به صورت همزمان'
                    ],
                    procedure: [
                        { step: 'تقسیم وظایف', time: '۱ دقیقه', details: 'تعیین نقش هر پهپاد در عملیات' },
                        { step: 'ایجاد مسیر امن', time: '۲ دقیقه', details: 'اطفاء آتش در مسیر نجات' },
                        { step: 'عملیات همزمان', time: '۱۸ دقیقه', details: 'انجام اطفاء و نجات به صورت موازی' },
                        { step: 'بررسی ایمنی', time: '۳ دقیقه', details: 'ارزیابی شرایط پس از عملیات' },
                        { step: 'خروج کنترل شده', time: '۱ دقیقه', details: 'خروج ایمن پهپادها از منطقه' }
                    ],
                    requirements: [
                        '۲ پهپاد اطفاء + ۲ پهپاد نجات',
                        'سیستم ارتباطی یکپارچه',
                        'مرکز کنترل پیشرفته',
                        'الگوریتم‌های هماهنگی'
                    ],
                    successRate: '۷۵٪',
                    avgTime: '۲۵ دقیقه'
                },
                windy: {
                    title: 'عملیات در شرایط طوفانی',
                    description: 'انجام مأموریت در باد ۱۸۰ کیلومتر/ساعت با جریان‌های گردابی شدید',
                    objectives: [
                        'حفظ پایداری پهپاد در باد شدید',
                        'انجام مأموریت با وجود شرایط سخت',
                        'جبران اثرات جریان‌های گردابی',
                        'بازگشت ایمن به پایگاه'
                    ],
                    procedure: [
                        { step: 'بررسی شرایط جوی', time: '۲ دقیقه', details: 'تحلیل داده‌های هواشناسی' },
                        { step: 'فعال‌سازی سیستم‌های ثبات', time: '۱ دقیقه', details: 'فعال‌سازی سیستم جبران باد' },
                        { step: 'انجام مأموریت محدود', time: '۱۰ دقیقه', details: 'انجام عملیات با در نظر گرفتن محدودیت‌ها' },
                        { step: 'پایش مداوم', time: 'مداوم', details: 'نظارت بر شرایط و تطبیق استراتژی' },
                        { step: 'خروج ایمن', time: '۲ دقیقه', details: 'خروج از منطقه طوفانی با مسیر بهینه' }
                    ],
                    requirements: [
                        'پهپاد با سیستم ثبات پیشرفته',
                        'سنسورهای باد سنج دقیق',
                        'باتری اضافی ۵۰٪',
                        'پهپاد پشتیبان آماده'
                    ],
                    successRate: '۶۵٪',
                    avgTime: '۱۵ دقیقه'
                }
            };
            
            const selected = scenarios[scenario];
            
            details.innerHTML = `
                <h3 style="color: var(--primary-dark); margin-bottom: 10px;">${selected.title}</h3>
                <p style="color: var(--gray); margin-bottom: 20px;">${selected.description}</p>
                
                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px; margin-top: 20px;">
                    <div>
                        <h4 style="color: var(--primary-dark); margin-bottom: 15px;">اهداف عملیاتی</h4>
                        <ul style="margin-right: 20px;">
                            ${selected.objectives.map(obj => `<li style="margin-bottom: 8px;">${obj}</li>`).join('')}
                        </ul>
                        
                        <h4 style="color: var(--primary-dark); margin-top: 25px; margin-bottom: 15px;">مراحل عملیات</h4>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: var(--radius);">
                            ${selected.procedure.map(step => `
                                <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid var(--gray-light);">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                        <strong>${step.step}</strong>
                                        <span class="badge">${step.time}</span>
                                    </div>
                                    <p style="font-size: 0.9rem; color: var(--gray);">${step.details}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div>
                        <div style="background: linear-gradient(135deg, var(--primary-light), white); padding: 20px; border-radius: var(--radius); margin-bottom: 20px;">
                            <h4 style="color: var(--primary-dark); margin-bottom: 15px;">مشخصات عملیات</h4>
                            <div style="display: grid; gap: 15px;">
                                <div>
                                    <p style="font-size: 0.9rem; color: var(--gray);">احتمال موفقیت</p>
                                    <div style="font-size: 1.8rem; font-weight: bold; color: var(--primary);">${selected.successRate}</div>
                                </div>
                                <div>
                                    <p style="font-size: 0.9rem; color: var(--gray);">زمان متوسط</p>
                                    <div style="font-size: 1.8rem; font-weight: bold; color: var(--accent);">${selected.avgTime}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: linear-gradient(135deg, var(--accent-light), white); padding: 20px; border-radius: var(--radius);">
                            <h4 style="color: var(--primary-dark); margin-bottom: 15px;">نیازمندی‌ها</h4>
                            <ul style="margin-right: 20px;">
                                ${selected.requirements.map(req => `<li style="margin-bottom: 8px; font-size: 0.9rem;">${req}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div style="margin-top: 20px; text-align: center;">
                            <button class="sim-btn" onclick="advancedSimulation && advancedSimulation.startSimulation()" style="width: 100%;">
                                <i class="fas fa-play"></i> اجرای شبیه‌سازی این سناریو
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // Progress Tracking
        function initProgressTracking() {
            // Simulate progress updates
            setInterval(() => {
                updateGanttProgress();
            }, 5000);
        }
        
        // Gantt chart controls
        document.getElementById('zoomIn')?.addEventListener('click', () => {
            const ganttGrid = document.getElementById('ganttGrid');
            const currentTransform = ganttGrid.style.transform || 'scale(1)';
            const currentScale = parseFloat(currentTransform.replace('scale(', '')) || 1;
            ganttGrid.style.transform = `scale(${Math.min(currentScale * 1.2, 2)})`;
        });
        
        document.getElementById('zoomOut')?.addEventListener('click', () => {
            const ganttGrid = document.getElementById('ganttGrid');
            const currentTransform = ganttGrid.style.transform || 'scale(1)';
            const currentScale = parseFloat(currentTransform.replace('scale(', '')) || 1;
            ganttGrid.style.transform = `scale(${Math.max(currentScale * 0.8, 0.5)})`;
        });
        
        document.getElementById('exportGantt')?.addEventListener('click', () => {
            alert('خروجی PDF برنامه زمانی در حال آماده‌سازی است...');
        });
        
        document.getElementById('printGantt')?.addEventListener('click', () => {
            window.print();
        });
    </script>
</body>
</html>