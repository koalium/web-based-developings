<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ú©Ø§Ù…Ù„ - Ø§Ø«Ø±Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tahoma', 'Segoe UI', sans-serif;
        }
        
        :root {
            --proton-color: #3b82f6;
            --neutron-color: #6b7280;
            --electron-color: #10b981;
            --quark-red: #ef4444;
            --quark-green: #10b981;
            --quark-blue: #3b82f6;
            --antiquark-cyan: #06b6d4;
            --antiquark-magenta: #d946ef;
            --antiquark-yellow: #eab308;
            --gluon-orange: #f97316;
            --gluon-purple: #8b5cf6;
            --w-boson: #dc2626;
            --z-boson: #7c3aed;
            --pion: #ec4899;
            --photon: #fbbf24;
            --higgs: #8b5cf6;
            --graviton: #6b7280;
            --neutrino: #84cc16;
            --virtual-color: rgba(139, 92, 246, 0.6);
            --entanglement-color: #06b6d4;
            --uncertainty-color: #f59e0b;
            --scattering-color: #ec4899;
            --dark-bg: #0f172a;
            --card-bg: #1e293b;
            --text: #e2e8f0;
            --highlight: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --quantum-1: #8b5cf6;
            --quantum-2: #06b6d4;
            --quantum-3: #10b981;
            --vacuum-color: rgba(139, 92, 246, 0.1);
        }
        
        body {
            background: 
                radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(239, 68, 68, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, var(--dark-bg), #1e1b4b);
            color: var(--text);
            line-height: 1.8;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 2000px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(30, 41, 59, 0.85);
            border-radius: 16px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(100, 116, 139, 0.4);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(15px);
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, 
                var(--quark-red), var(--quark-green), var(--quark-blue),
                var(--gluon-orange), var(--entanglement-color), var(--uncertainty-color));
            animation: quantumFlow 4s ease-in-out infinite;
        }
        
        @keyframes quantumFlow {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, 
                var(--proton-color), var(--electron-color), var(--quantum-1), var(--entanglement-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            animation: quantumGlow 6s ease-in-out infinite;
        }
        
        @keyframes quantumGlow {
            0%, 100% { 
                filter: drop-shadow(0 0 15px rgba(139, 92, 246, 0.4));
            }
            33% { 
                filter: drop-shadow(0 0 20px rgba(6, 182, 212, 0.5));
            }
            66% { 
                filter: drop-shadow(0 0 15px rgba(16, 185, 129, 0.4));
            }
        }
        
        .quantum-universe {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
            min-height: 800px;
        }
        
        @media (max-width: 1400px) {
            .quantum-universe {
                grid-template-columns: 1fr;
            }
        }
        
        .main-simulation {
            display: grid;
            grid-template-rows: auto 1fr;
            gap: 30px;
        }
        
        .nuclei-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .nucleon-panel {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 
                0 10px 35px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(100, 116, 139, 0.4);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(8px);
        }
        
        .nucleon-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 30% 30%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(6, 182, 212, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .panel-title {
            font-size: 1.6rem;
            margin-bottom: 20px;
            color: var(--proton-color);
            border-bottom: 2px solid rgba(100, 150, 255, 0.4);
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
        }
        
        .neutron .panel-title {
            color: var(--neutron-color);
        }
        
        .advanced-effects .panel-title {
            color: var(--entanglement-color);
        }
        
        .visualization-area {
            position: relative;
            width: 100%;
            height: 400px;
            background: 
                radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(239, 68, 68, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(16, 185, 129, 0.12) 0%, transparent 50%),
                rgba(15, 23, 42, 0.92);
            border-radius: 12px;
            border: 1px solid rgba(100, 116, 139, 0.4);
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .vacuum-field {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background: 
                radial-gradient(circle at 20% 20%, var(--vacuum-color) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, var(--vacuum-color) 0%, transparent 50%);
            animation: vacuumFluctuate 10s ease-in-out infinite;
        }
        
        @keyframes vacuumFluctuate {
            0%, 100% { opacity: 0.4; transform: scale(1) rotate(0deg); }
            25% { opacity: 0.6; transform: scale(1.01) rotate(1deg); }
            50% { opacity: 0.5; transform: scale(1.02) rotate(0deg); }
            75% { opacity: 0.7; transform: scale(1.01) rotate(-1deg); }
        }
        
        .quantum-fluctuation {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, var(--quantum-1) 0%, transparent 70%);
            opacity: 0;
            animation: fluctuationAppear 3s ease-out infinite;
        }
        
        @keyframes fluctuationAppear {
            0% { opacity: 0; transform: scale(0); }
            20% { opacity: 0.6; transform: scale(1); }
            40% { opacity: 0.3; transform: scale(1.2); }
            60% { opacity: 0.1; transform: scale(1.5); }
            100% { opacity: 0; transform: scale(2); }
        }
        
        .uncertainty-cloud {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, var(--uncertainty-color) 0%, transparent 70%);
            opacity: 0.3;
            animation: uncertaintyPulse 4s ease-in-out infinite;
        }
        
        @keyframes uncertaintyPulse {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 0.4; transform: scale(1.1); }
        }
        
        .entanglement-link {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent, 
                var(--entanglement-color),
                rgba(6, 182, 212, 0.8),
                var(--entanglement-color),
                transparent);
            transform-origin: 0 0;
            z-index: 8;
            pointer-events: none;
            animation: entanglementFlow 2s linear infinite;
        }
        
        @keyframes entanglementFlow {
            0% { 
                background-position: -100% 0;
                opacity: 0.7;
            }
            100% { 
                background-position: 200% 0;
                opacity: 0.9;
            }
        }
        
        .scattering-effect {
            position: absolute;
            border-radius: 50%;
            border: 1px solid var(--scattering-color);
            pointer-events: none;
            z-index: 6;
            animation: scatterExpand 1.5s ease-out forwards;
        }
        
        @keyframes scatterExpand {
            0% { 
                transform: scale(0.5); 
                opacity: 0.8;
                border-width: 3px;
            }
            100% { 
                transform: scale(4); 
                opacity: 0;
                border-width: 0.5px;
            }
        }
        
        .virtual-particle {
            position: absolute;
            border-radius: 50%;
            background: var(--virtual-color);
            opacity: 0.7;
            animation: virtualFlicker 2s ease-in-out infinite;
            box-shadow: 0 0 10px var(--virtual-color);
        }
        
        @keyframes virtualFlicker {
            0%, 100% { opacity: 0.7; transform: scale(1); }
            25% { opacity: 0.4; transform: scale(0.9); }
            50% { opacity: 0.8; transform: scale(1.1); }
            75% { opacity: 0.5; transform: scale(0.95); }
        }
        
        .nucleon-boundary {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 280px;
            height: 280px;
            border-radius: 50%;
            border: 2px dashed rgba(100, 116, 139, 0.6);
            background: rgba(59, 130, 246, 0.05);
            box-shadow: 
                inset 0 0 50px rgba(59, 130, 246, 0.15),
                0 0 50px rgba(59, 130, 246, 0.25);
            animation: quantumBoundary 8s ease-in-out infinite;
        }
        
        @keyframes quantumBoundary {
            0%, 100% { 
                box-shadow: 
                    inset 0 0 50px rgba(59, 130, 246, 0.15),
                    0 0 50px rgba(59, 130, 246, 0.25);
            }
            50% { 
                box-shadow: 
                    inset 0 0 70px rgba(59, 130, 246, 0.2),
                    0 0 70px rgba(59, 130, 246, 0.35);
            }
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 11px;
            box-shadow: 
                0 3px 20px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
            cursor: pointer;
            backdrop-filter: blur(4px);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
        }
        
        .particle::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border-radius: 50%;
            background: inherit;
            filter: blur(8px);
            opacity: 0.5;
            z-index: -1;
        }
        
        .particle.quark {
            width: 38px;
            height: 38px;
            animation: quantumFloat 5s ease-in-out infinite;
        }
        
        .particle.antiquark {
            width: 36px;
            height: 36px;
            border: 2px solid rgba(255, 255, 255, 0.9);
            animation: antiquarkDance 6s ease-in-out infinite;
        }
        
        .particle.gluon {
            width: 30px;
            height: 30px;
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            animation: gluonSpin 4s linear infinite;
        }
        
        .particle.electron {
            width: 26px;
            height: 26px;
            animation: electronQuantum 12s linear infinite;
        }
        
        .particle.photon {
            width: 24px;
            height: 24px;
            animation: photonQuantum 3s ease-in-out infinite;
        }
        
        .particle.virtual {
            opacity: 0.6;
            animation: virtualQuantum 4s ease-in-out infinite;
        }
        
        .particle.entangled {
            box-shadow: 
                0 0 20px var(--entanglement-color),
                inset 0 0 10px rgba(6, 182, 212, 0.3);
        }
        
        .particle.scattering {
            animation: scatterPulse 1s ease-out infinite;
        }
        
        @keyframes quantumFloat {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(1);
                box-shadow: 0 3px 20px rgba(0, 0, 0, 0.5);
            }
            25% { 
                transform: translateY(-8px) rotate(3deg) scale(1.08);
                box-shadow: 0 6px 25px rgba(239, 68, 68, 0.4);
            }
            50% { 
                transform: translateY(6px) rotate(-2deg) scale(0.95);
                box-shadow: 0 4px 22px rgba(0, 0, 0, 0.6);
            }
            75% { 
                transform: translateY(-4px) rotate(1deg) scale(1.05);
                box-shadow: 0 5px 24px rgba(59, 130, 246, 0.4);
            }
        }
        
        @keyframes antiquarkDance {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(1);
                border-color: rgba(255, 255, 255, 0.9);
            }
            33% { 
                transform: translateY(-10px) rotate(-4deg) scale(1.1);
                border-color: rgba(6, 182, 212, 0.8);
            }
            66% { 
                transform: translateY(7px) rotate(4deg) scale(0.92);
                border-color: rgba(212, 54, 239, 0.8);
            }
        }
        
        @keyframes gluonSpin {
            from { 
                transform: rotate(0deg) scale(1);
                border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            }
            to { 
                transform: rotate(360deg) scale(1.15);
                border-radius: 70% 30% 30% 70% / 70% 70% 30% 30%;
            }
        }
        
        @keyframes electronQuantum {
            from { 
                transform: rotate(0deg) translateX(160px) rotate(0deg) scale(1);
            }
            to { 
                transform: rotate(360deg) translateX(160px) rotate(-360deg) scale(1.1);
            }
        }
        
        @keyframes photonQuantum {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
                box-shadow: 0 0 20px currentColor;
            }
            25% { 
                opacity: 0.9; 
                transform: scale(1.1);
                box-shadow: 0 0 25px currentColor, 0 0 35px rgba(251, 191, 36, 0.4);
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.2);
                box-shadow: 0 0 30px currentColor, 0 0 45px rgba(251, 191, 36, 0.6);
            }
            75% { 
                opacity: 0.9; 
                transform: scale(1.1);
                box-shadow: 0 0 25px currentColor, 0 0 35px rgba(251, 191, 36, 0.4);
            }
        }
        
        @keyframes virtualQuantum {
            0%, 100% { 
                opacity: 0.6; 
                transform: scale(1) translate(0, 0);
            }
            25% { 
                opacity: 0.4; 
                transform: scale(0.9) translate(2px, -2px);
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.1) translate(-1px, 3px);
            }
            75% { 
                opacity: 0.5; 
                transform: scale(0.95) translate(3px, 1px);
            }
        }
        
        @keyframes scatterPulse {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 0 15px var(--scattering-color);
            }
            50% { 
                transform: scale(1.3);
                box-shadow: 0 0 30px var(--scattering-color);
            }
        }
        
        /* Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø°Ø±Ø§Øª */
        .quark.red { background: var(--quark-red); }
        .quark.green { background: var(--quark-green); }
        .quark.blue { background: var(--quark-blue); }
        
        .antiquark.cyan { background: var(--antiquark-cyan); }
        .antiquark.magenta { background: var(--antiquark-magenta); }
        .antiquark.yellow { background: var(--antiquark-yellow); }
        
        .gluon.orange { background: var(--gluon-orange); }
        .gluon.purple { background: var(--gluon-purple); }
        
        .electron { background: var(--electron-color); }
        .photon { background: var(--photon); }
        .neutrino { background: var(--neutrino); }
        .higgs { background: var(--higgs); }
        
        .quantum-sidebar {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .advanced-effects {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(100, 116, 139, 0.4);
            flex: 1;
        }
        
        .effects-visual {
            height: 300px;
            background: 
                radial-gradient(circle at 30% 30%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(6, 182, 212, 0.1) 0%, transparent 50%),
                rgba(15, 23, 42, 0.9);
            border-radius: 12px;
            border: 1px solid rgba(100, 116, 139, 0.4);
            position: relative;
            overflow: hidden;
            margin-top: 15px;
        }
        
        .uncertainty-panel {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(100, 116, 139, 0.4);
            flex: 1;
        }
        
        .uncertainty-visual {
            height: 300px;
            background: 
                radial-gradient(circle at 30% 30%, rgba(245, 158, 11, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(245, 158, 11, 0.05) 0%, transparent 50%),
                rgba(15, 23, 42, 0.9);
            border-radius: 12px;
            border: 1px solid rgba(100, 116, 139, 0.4);
            position: relative;
            overflow: hidden;
            margin-top: 15px;
        }
        
        .quantum-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-item {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border-left: 4px solid var(--quantum-1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .stat-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--highlight);
            margin: 8px 0;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            font-weight: 600;
        }
        
        .control-panel {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(100, 116, 139, 0.4);
            margin-top: 30px;
        }
        
        .control-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(100, 116, 139, 0.4);
            padding-bottom: 20px;
        }
        
        .tab {
            padding: 12px 24px;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
            font-weight: 600;
        }
        
        .tab.active {
            background: rgba(139, 92, 246, 0.25);
            border-color: var(--quantum-1);
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }
        
        .control-group {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(15, 23, 42, 0.6);
            border-radius: 12px;
            border-left: 4px solid var(--quantum-2);
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 15px;
            padding: 12px;
            background: rgba(30, 41, 59, 0.6);
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .slider-container:hover {
            background: rgba(30, 41, 59, 0.8);
            transform: translateX(5px);
        }
        
        label {
            min-width: 200px;
            font-weight: 600;
            color: var(--text);
        }
        
        input[type="range"] {
            flex: 1;
            height: 10px;
            border-radius: 5px;
            background: linear-gradient(90deg, var(--quantum-1), var(--quantum-2), var(--quantum-3));
            outline: none;
            -webkit-appearance: none;
            transition: all 0.3s ease;
        }
        
        input[type="range"]:hover {
            box-shadow: 0 0 12px rgba(139, 92, 246, 0.4);
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.4);
            border: 3px solid var(--quantum-1);
            transition: all 0.3s ease;
        }
        
        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 15px var(--quantum-1);
        }
        
        .value-display {
            min-width: 90px;
            text-align: center;
            padding: 8px 14px;
            background: rgba(30, 41, 59, 0.9);
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            border: 1px solid rgba(100, 116, 139, 0.4);
            transition: all 0.3s ease;
        }
        
        .value-display:hover {
            background: rgba(30, 41, 59, 1);
            box-shadow: 0 0 12px rgba(16, 185, 129, 0.4);
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        button {
            background: linear-gradient(135deg, var(--quantum-1), var(--quantum-2));
            border: none;
            color: white;
            padding: 14px 28px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            flex: 1;
            min-width: 160px;
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }
        
        button:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }
        
        button:hover::before {
            left: 100%;
        }
        
        button:active {
            transform: translateY(-1px) scale(1.02);
        }
        
        .quantum-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 25px 0;
            justify-content: center;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 18px;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .legend-item:hover {
            transform: translateY(-3px);
            border-color: var(--quantum-1);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
        }
        
        .legend-color {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            font-size: 0.9rem;
            opacity: 0.9;
            border-top: 1px solid rgba(100, 116, 139, 0.4);
            background: rgba(15, 23, 42, 0.6);
            border-radius: 16px;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div class="container" x-data="advancedQuantumEffects()">
        <header>
            <h1>Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ú©Ø§Ù…Ù„ - Ø§Ø«Ø±Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h1>
            <p class="subtitle">Ù…Ø¯Ù„â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø§Ø«Ø±Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ø´Ø§Ù…Ù„ Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒØŒ Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒØŒ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ùˆ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</p>
            
            <div class="quantum-legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: var(--quark-red);"></div>
                    <span>Ú©ÙˆØ§Ø±Ú©â€ŒÙ‡Ø§</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: var(--antiquark-cyan); border: 2px solid white;"></div>
                    <span>Ù¾Ø§Ø¯Ú©ÙˆØ§Ø±Ú©â€ŒÙ‡Ø§</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: var(--virtual-color);"></div>
                    <span>Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: var(--entanglement-color);"></div>
                    <span>Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒ</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: var(--uncertainty-color);"></div>
                    <span>Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: var(--scattering-color);"></div>
                    <span>Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</span>
                </div>
            </div>
        </header>
        
        <div class="quantum-universe">
            <div class="main-simulation">
                <div class="nuclei-container">
                    <div class="nucleon-panel proton">
                        <h2 class="panel-title">âš›ï¸ Ø³ÛŒØ³ØªÙ… Ù¾Ø±ÙˆØªÙˆÙ† - Ø§Ø«Ø±Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</h2>
                        <div class="visualization-area" id="protonViz">
                            <div class="vacuum-field"></div>
                            <div class="nucleon-boundary proton-boundary"></div>
                        </div>
                        <div class="quantum-stats">
                            <div class="stat-item">
                                <div class="stat-label">Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ ÙØ¹Ø§Ù„</div>
                                <div class="stat-value" x-text="protonStats.virtualParticles"></div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Ø¬ÙØªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ù‡</div>
                                <div class="stat-value" x-text="protonStats.entangledPairs"></div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ù…ÙˆÙ‚Ø¹ÛŒØª</div>
                                <div class="stat-value" x-text="`${protonStats.positionUncertainty}%`"></div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Ø±Ø®Ø¯Ø§Ø¯Ù‡Ø§ÛŒ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</div>
                                <div class="stat-value" x-text="protonStats.scatteringEvents"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="nucleon-panel neutron">
                        <h2 class="panel-title">ğŸ”¬ Ø³ÛŒØ³ØªÙ… Ù†ÙˆØªØ±ÙˆÙ† - Ù¾ÙˆÛŒØ§ÛŒÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</h2>
                        <div class="visualization-area" id="neutronViz">
                            <div class="vacuum-field"></div>
                            <div class="nucleon-boundary neutron-boundary"></div>
                        </div>
                        <div class="quantum-stats">
                            <div class="stat-item">
                                <div class="stat-label">Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ ÙØ¹Ø§Ù„</div>
                                <div class="stat-value" x-text="neutronStats.virtualParticles"></div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Ø¬ÙØªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ù‡</div>
                                <div class="stat-value" x-text="neutronStats.entangledPairs"></div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ù…ÙˆÙ‚Ø¹ÛŒØª</div>
                                <div class="stat-value" x-text="`${neutronStats.positionUncertainty}%`"></div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Ø±Ø®Ø¯Ø§Ø¯Ù‡Ø§ÛŒ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</div>
                                <div class="stat-value" x-text="neutronStats.scatteringEvents"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="nucleon-panel advanced-effects">
                    <h2 class="panel-title">ğŸŒ€ Ø³ÛŒØ³ØªÙ… Ø§ØªÙ…ÛŒ - Ù…ÛŒØ¯Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</h2>
                    <div class="visualization-area" id="atomViz">
                        <div class="vacuum-field"></div>
                        <div class="nucleon-boundary proton-boundary"></div>
                    </div>
                    <div class="quantum-stats">
                        <div class="stat-item">
                            <div class="stat-label">ÙÙˆØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø²ÛŒ</div>
                            <div class="stat-value" x-text="atomStats.virtualPhotons"></div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Ù‚Ø·Ø¨Ø´ Ø®Ù„Ø§Ø¡</div>
                            <div class="stat-value" x-text="`${atomStats.vacuumPolarization}%`"></div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">ØªÙˆÙ†Ù„ Ø²Ù†ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</div>
                            <div class="stat-value" x-text="atomStats.quantumTunneling"></div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Ù†ÙˆØ³Ø§Ù†Ø§Øª Ù…ÛŒØ¯Ø§Ù†</div>
                            <div class="stat-value" x-text="atomStats.fieldFluctuations"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="quantum-sidebar">
                <div class="advanced-effects">
                    <h2 class="panel-title">ğŸŒŠ Ø§Ø«Ø±Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</h2>
                    <p>Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒØŒ Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ Ùˆ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</p>
                    <div class="effects-visual" id="effectsViz">
                        <!-- Ø§Ø«Ø±Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ -->
                    </div>
                </div>
                
                <div class="uncertainty-panel">
                    <h2 class="panel-title">ğŸŒ«ï¸ Ø§ØµÙ„ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ù‡Ø§ÛŒØ²Ù†Ø¨Ø±Ú¯</h2>
                    <p>Ù†Ù…Ø§ÛŒØ´ Ø§Ø¨Ø±Ù‡Ø§ÛŒ Ø§Ø­ØªÙ…Ø§Ù„ Ùˆ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</p>
                    <div class="uncertainty-visual" id="uncertaintyViz">
                        <!-- Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª -->
                    </div>
                </div>
            </div>
        </div>
        
        <div class="control-panel">
            <div class="control-tabs">
                <div class="tab active" @click="activeTab = 'virtual'">Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ</div>
                <div class="tab" @click="activeTab = 'entanglement'">Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒ</div>
                <div class="tab" @click="activeTab = 'uncertainty'">Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª</div>
                <div class="tab" @click="activeTab = 'scattering'">Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</div>
            </div>
            
            <div x-show="activeTab === 'virtual'">
                <div class="control-group">
                    <h3>Ø³ÛŒØ³ØªÙ… Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ</h3>
                    <div class="slider-container">
                        <label>Ú†Ú¯Ø§Ù„ÛŒ Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ</label>
                        <input type="range" min="0" max="100" x-model="virtualParams.density" @input="updateVirtualSystem">
                        <div class="value-display" x-text="`${virtualParams.density}%`"></div>
                    </div>
                    <div class="slider-container">
                        <label>Ø·ÙˆÙ„ Ø¹Ù…Ø± Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ</label>
                        <input type="range" min="0" max="100" x-model="virtualParams.lifetime" @input="updateVirtualSystem">
                        <div class="value-display" x-text="`${virtualParams.lifetime}%`"></div>
                    </div>
                    <div class="slider-container">
                        <label>Ø§Ù†Ø±Ú˜ÛŒ Ø®Ù„Ø§Ø¡</label>
                        <input type="range" min="0" max="100" x-model="virtualParams.vacuumEnergy" @input="updateVirtualSystem">
                        <div class="value-display" x-text="`${virtualParams.vacuumEnergy}%`"></div>
                    </div>
                </div>
            </div>
            
            <div x-show="activeTab === 'entanglement'">
                <div class="control-group">
                    <h3>Ø³ÛŒØ³ØªÙ… Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</h3>
                    <div class="slider-container">
                        <label>Ø¯Ø±Ø¬Ù‡ Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒ</label>
                        <input type="range" min="0" max="100" x-model="entanglementParams.degree" @input="updateEntanglementSystem">
                        <div class="value-display" x-text="`${entanglementParams.degree}%`"></div>
                    </div>
                    <div class="slider-container">
                        <label>Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª</label>
                        <input type="range" min="0" max="100" x-model="entanglementParams.stability" @input="updateEntanglementSystem">
                        <div class="value-display" x-text="`${entanglementParams.stability}%`"></div>
                    </div>
                    <div class="slider-container">
                        <label>Ø³Ø±Ø¹Øª Ø¨Ø±Ù‡Ù…Ú©Ù†Ø´</label>
                        <input type="range" min="0" max="100" x-model="entanglementParams.interactionSpeed" @input="updateEntanglementSystem">
                        <div class="value-display" x-text="`${entanglementParams.interactionSpeed}%`"></div>
                    </div>
                </div>
            </div>
            
            <div x-show="activeTab === 'uncertainty'">
                <div class="control-group">
                    <h3>Ø§ØµÙ„ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª</h3>
                    <div class="slider-container">
                        <label>Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ù…ÙˆÙ‚Ø¹ÛŒØª</label>
                        <input type="range" min="0" max="100" x-model="uncertaintyParams.position" @input="updateUncertaintySystem">
                        <div class="value-display" x-text="`${uncertaintyParams.position}%`"></div>
                    </div>
                    <div class="slider-container">
                        <label>Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª ØªÚ©Ø§Ù†Ù‡</label>
                        <input type="range" min="0" max="100" x-model="uncertaintyParams.momentum" @input="updateUncertaintySystem">
                        <div class="value-display" x-text="`${uncertaintyParams.momentum}%`"></div>
                    </div>
                    <div class="slider-container">
                        <label>Ø§Ø¨Ø¹Ø§Ø¯ Ø§Ø¨Ø± Ø§Ø­ØªÙ…Ø§Ù„</label>
                        <input type="range" min="0" max="100" x-model="uncertaintyParams.cloudSize" @input="updateUncertaintySystem">
                        <div class="value-display" x-text="`${uncertaintyParams.cloudSize}%`"></div>
                    </div>
                </div>
            </div>
            
            <div x-show="activeTab === 'scattering'">
                <div class="control-group">
                    <h3>Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</h3>
                    <div class="slider-container">
                        <label>ÙØ±Ú©Ø§Ù†Ø³ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</label>
                        <input type="range" min="0" max="100" x-model="scatteringParams.frequency" @input="updateScatteringSystem">
                        <div class="value-display" x-text="`${scatteringParams.frequency}%`"></div>
                    </div>
                    <div class="slider-container">
                        <label>Ø§Ù†Ø±Ú˜ÛŒ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</label>
                        <input type="range" min="0" max="100" x-model="scatteringParams.energy" @input="updateScatteringSystem">
                        <div class="value-display" x-text="`${scatteringParams.energy}%`"></div>
                    </div>
                    <div class="slider-container">
                        <label>Ø²Ø§ÙˆÛŒÙ‡ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</label>
                        <input type="range" min="0" max="100" x-model="scatteringParams.angle" @input="updateScatteringSystem">
                        <div class="value-display" x-text="`${scatteringParams.angle}Â°`"></div>
                    </div>
                </div>
            </div>
            
            <div class="button-group">
                <button @click="startSimulation()">Ø´Ø±ÙˆØ¹ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ</button>
                <button @click="pauseSimulation()">ØªÙˆÙ‚Ù Ù…ÙˆÙ‚Øª</button>
                <button @click="resetSimulation()">Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„</button>
                <button @click="triggerQuantumEvent()">Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ</button>
                <button @click="exportQuantumData()">Ø®Ø±ÙˆØ¬ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§</button>
            </div>
        </div>
        
        <footer>
            <p>Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø§ Ø§Ø«Ø±Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ | Ø´Ø§Ù…Ù„ Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒØŒ Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒØŒ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ùˆ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ</p>
            <p>ğŸŒ€ Ù…Ø¯Ù„â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ù†Ø¸Ø±ÛŒÙ‡ Ù…ÛŒØ¯Ø§Ù† Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ø¨Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¨ØµØ±ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡</p>
        </footer>
    </div>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('advancedQuantumEffects', () => ({
                // ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ø§Ù„ ØªØ¨â€ŒÙ‡Ø§
                activeTab: 'virtual',
                
                // Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡
                virtualParams: {
                    density: 65,
                    lifetime: 50,
                    vacuumEnergy: 60
                },
                
                entanglementParams: {
                    degree: 55,
                    stability: 70,
                    interactionSpeed: 60
                },
                
                uncertaintyParams: {
                    position: 45,
                    momentum: 55,
                    cloudSize: 60
                },
                
                scatteringParams: {
                    frequency: 40,
                    energy: 50,
                    angle: 30
                },
                
                // Ø¢Ù…Ø§Ø± Ø³ÛŒØ³ØªÙ…
                protonStats: {
                    virtualParticles: 8,
                    entangledPairs: 3,
                    positionUncertainty: 35,
                    scatteringEvents: 12
                },
                
                neutronStats: {
                    virtualParticles: 10,
                    entangledPairs: 4,
                    positionUncertainty: 40,
                    scatteringEvents: 15
                },
                
                atomStats: {
                    virtualPhotons: 6,
                    vacuumPolarization: 25,
                    quantumTunneling: 8,
                    fieldFluctuations: 18
                },
                
                // Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡
                protonParticles: [],
                neutronParticles: [],
                atomParticles: [],
                virtualParticles: [],
                entangledPairs: [],
                uncertaintyClouds: [],
                scatteringEvents: [],
                
                // ÙˆØ¶Ø¹ÛŒØª Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ
                isRunning: true,
                simulationTime: 0,
                frameCount: 0,
                
                init() {
                    this.initializeAdvancedSystems();
                    this.startQuantumLoop();
                },
                
                initializeAdvancedSystems() {
                    // Ø³ÛŒØ³ØªÙ… Ù¾Ø±ÙˆØªÙˆÙ† Ø¨Ø§ Ø§Ø«Ø±Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡
                    this.protonParticles = this.createAdvancedNucleonSystem('proton');
                    
                    // Ø³ÛŒØ³ØªÙ… Ù†ÙˆØªØ±ÙˆÙ† Ø¨Ø§ Ø§Ø«Ø±Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡
                    this.neutronParticles = this.createAdvancedNucleonSystem('neutron');
                    
                    // Ø³ÛŒØ³ØªÙ… Ø§ØªÙ… Ø¨Ø§ Ø§Ø«Ø±Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡
                    this.atomParticles = this.createAdvancedAtomSystem();
                    
                    // Ø³ÛŒØ³ØªÙ… Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ
                    this.initializeVirtualParticles();
                    
                    // Ø³ÛŒØ³ØªÙ… Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒ
                    this.initializeEntanglementSystem();
                    
                    // Ø³ÛŒØ³ØªÙ… Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª
                    this.initializeUncertaintySystem();
                },
                
                createAdvancedNucleonSystem(nucleonType) {
                    const particles = [];
                    const centerX = 200, centerY = 200;
                    
                    // Ú©ÙˆØ§Ø±Ú©â€ŒÙ‡Ø§ÛŒ Ø¸Ø±ÙÛŒØª Ø¨Ø§ Ø§Ø«Ø±Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                    const valenceQuarks = nucleonType === 'proton' 
                        ? [['u', 'red'], ['u', 'green'], ['d', 'blue']]
                        : [['u', 'red'], ['d', 'green'], ['d', 'blue']];
                    
                    valenceQuarks.forEach(([flavor, color], index) => {
                        const angle = (index * 120 + Math.random() * 30) * Math.PI / 180;
                        const radius = 45 + Math.random() * 25;
                        const uncertainty = 5 + Math.random() * 10;
                        
                        particles.push({
                            type: 'quark',
                            flavor: flavor,
                            color: color,
                            x: centerX + radius * Math.cos(angle),
                            y: centerY + radius * Math.sin(angle),
                            vx: (Math.random() - 0.5) * 0.5,
                            vy: (Math.random() - 0.5) * 0.5,
                            baseRadius: radius,
                            orbitalAngle: angle,
                            uncertainty: uncertainty,
                            isVirtual: false,
                            quantumState: Math.random(),
                            entanglementPartner: null
                        });
                    });
                    
                    // Ú¯Ù„Ø¦ÙˆÙ†â€ŒÙ‡Ø§ Ø¨Ø§ Ø§Ø«Ø±Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡
                    for (let i = 0; i < 10; i++) {
                        particles.push(this.createAdvancedGluon(centerX, centerY));
                    }
                    
                    // Ø¬ÙØªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ù‡
                    for (let i = 0; i < 3; i++) {
                        const pair = this.createEntangledPair(centerX, centerY);
                        particles.push(pair.particle1, pair.particle2);
                        this.entangledPairs.push(pair);
                    }
                    
                    return particles;
                },
                
                createAdvancedAtomSystem() {
                    const particles = [];
                    const centerX = 200, centerY = 200;
                    
                    // Ù‡Ø³ØªÙ‡
                    particles.push({
                        type: 'quark',
                        flavor: 'u',
                        color: 'red',
                        x: centerX,
                        y: centerY,
                        vx: 0,
                        vy: 0,
                        isNucleus: true,
                        uncertainty: 2
                    });
                    
                    // Ø§Ù„Ú©ØªØ±ÙˆÙ†â€ŒÙ‡Ø§ Ø¨Ø§ Ø§Ø«Ø±Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                    for (let i = 0; i < 2; i++) {
                        const radius = 120 + i * 30;
                        const angle = Math.random() * Math.PI * 2;
                        particles.push({
                            type: 'electron',
                            x: centerX + radius * Math.cos(angle),
                            y: centerY + radius * Math.sin(angle),
                            vx: -Math.sin(angle) * (0.8 - i * 0.2),
                            vy: Math.cos(angle) * (0.8 - i * 0.2),
                            orbitalRadius: radius,
                            orbitalAngle: angle,
                            energyLevel: i + 1,
                            uncertainty: 15 + Math.random() * 10,
                            quantumState: Math.random()
                        });
                    }
                    
                    // ÙÙˆØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø²ÛŒ
                    for (let i = 0; i < 5; i++) {
                        particles.push(this.createVirtualPhoton(centerX, centerY));
                    }
                    
                    return particles;
                },
                
                createAdvancedGluon(centerX, centerY) {
                    const radius = 25 + Math.random() * 75;
                    const angle = Math.random() * Math.PI * 2;
                    const speed = 1 + Math.random() * 2;
                    
                    return {
                        type: 'gluon',
                        color: Math.random() > 0.5 ? 'orange' : 'purple',
                        x: centerX + radius * Math.cos(angle),
                        y: centerY + radius * Math.sin(angle),
                        vx: speed * Math.cos(angle + Math.PI/2),
                        vy: speed * Math.sin(angle + Math.PI/2),
                        isVirtual: Math.random() < 0.4,
                        lifetime: 1 + Math.random() * 3,
                        quantumState: Math.random()
                    };
                },
                
                createEntangledPair(centerX, centerY) {
                    const distance = 20 + Math.random() * 30;
                    const angle = Math.random() * Math.PI * 2;
                    const flavors = ['u', 'd'];
                    const flavor1 = flavors[Math.floor(Math.random() * flavors.length)];
                    const flavor2 = flavors[Math.floor(Math.random() * flavors.length)];
                    
                    const particle1 = {
                        type: 'quark',
                        flavor: flavor1,
                        color: 'red',
                        x: centerX + distance * Math.cos(angle),
                        y: centerY + distance * Math.sin(angle),
                        vx: (Math.random() - 0.5),
                        vy: (Math.random() - 0.5),
                        isEntangled: true,
                        entanglementId: Math.random().toString(36).substr(2, 9),
                        quantumState: Math.random()
                    };
                    
                    const particle2 = {
                        type: 'quark',
                        flavor: flavor2,
                        color: 'green',
                        x: centerX - distance * Math.cos(angle),
                        y: centerY - distance * Math.sin(angle),
                        vx: -particle1.vx,
                        vy: -particle1.vy,
                        isEntangled: true,
                        entanglementId: particle1.entanglementId,
                        quantumState: particle1.quantumState
                    };
                    
                    particle1.entanglementPartner = particle2;
                    particle2.entanglementPartner = particle1;
                    
                    return {
                        particle1: particle1,
                        particle2: particle2,
                        strength: 0.7 + Math.random() * 0.3,
                        created: this.simulationTime
                    };
                },
                
                createVirtualPhoton(centerX, centerY) {
                    const radius = 40 + Math.random() * 110;
                    const angle = Math.random() * Math.PI * 2;
                    
                    return {
                        type: 'photon',
                        x: centerX + radius * Math.cos(angle),
                        y: centerY + radius * Math.sin(angle),
                        vx: (Math.random() - 0.5) * 4,
                        vy: (Math.random() - 0.5) * 4,
                        isVirtual: true,
                        lifetime: 0.5 + Math.random() * 2,
                        wavelength: 150 + Math.random() * 200,
                        quantumState: Math.random()
                    };
                },
                
                initializeVirtualParticles() {
                    this.virtualParticles = [];
                    
                    // Ø§ÛŒØ¬Ø§Ø¯ Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
                    for (let i = 0; i < 15; i++) {
                        this.virtualParticles.push(this.createRandomVirtualParticle());
                    }
                },
                
                createRandomVirtualParticle() {
                    const types = ['quark', 'antiquark', 'gluon', 'photon'];
                    const type = types[Math.floor(Math.random() * types.length)];
                    const centerX = 200, centerY = 200;
                    const radius = 20 + Math.random() * 130;
                    const angle = Math.random() * Math.PI * 2;
                    
                    return {
                        type: type,
                        x: centerX + radius * Math.cos(angle),
                        y: centerY + radius * Math.sin(angle),
                        vx: (Math.random() - 0.5) * 3,
                        vy: (Math.random() - 0.5) * 3,
                        isVirtual: true,
                        lifetime: 0.3 + Math.random() * 1.5,
                        color: this.getVirtualParticleColor(type),
                        size: 15 + Math.random() * 10
                    };
                },
                
                getVirtualParticleColor(type) {
                    const colors = {
                        'quark': 'rgba(239, 68, 68, 0.7)',
                        'antiquark': 'rgba(6, 182, 212, 0.7)',
                        'gluon': 'rgba(249, 115, 22, 0.7)',
                        'photon': 'rgba(251, 191, 36, 0.7)'
                    };
                    return colors[type] || 'rgba(139, 92, 246, 0.7)';
                },
                
                initializeEntanglementSystem() {
                    this.entangledPairs = [];
                },
                
                initializeUncertaintySystem() {
                    this.uncertaintyClouds = [];
                    
                    // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø¨Ø±Ù‡Ø§ÛŒ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡
                    const allParticles = [...this.protonParticles, ...this.neutronParticles, ...this.atomParticles];
                    allParticles.forEach(particle => {
                        if (particle.uncertainty > 5) {
                            this.uncertaintyClouds.push({
                                particle: particle,
                                radius: particle.uncertainty,
                                opacity: 0.3,
                                phase: Math.random() * Math.PI * 2
                            });
                        }
                    });
                },
                
                startQuantumLoop() {
                    if (!this.isRunning) return;
                    
                    this.frameCount++;
                    this.simulationTime += 0.016;
                    
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙ…Ø§Ù… Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡
                    this.updateAdvancedParticles();
                    this.updateVirtualParticles();
                    this.updateEntanglementSystem();
                    this.updateUncertaintySystem();
                    this.updateScatteringSystem();
                    this.updateVisualizations();
                    this.updateStatistics();
                    
                    requestAnimationFrame(() => this.startQuantumLoop());
                },
                
                updateAdvancedParticles() {
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø­Ø±Ú©Øª Ø°Ø±Ø§Øª Ø¨Ø§ Ø§Ø«Ø±Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                    const allParticles = [...this.protonParticles, ...this.neutronParticles, ...this.atomParticles];
                    
                    allParticles.forEach(particle => {
                        if (particle.orbitalRadius) {
                            // Ø­Ø±Ú©Øª Ù…Ø¯Ø§Ø±ÛŒ Ø¨Ø§ Ù†ÙˆØ³Ø§Ù†Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                            particle.orbitalAngle += 0.02 + (Math.random() - 0.5) * 0.01;
                            const baseX = 200 + particle.orbitalRadius * Math.cos(particle.orbitalAngle);
                            const baseY = 200 + particle.orbitalRadius * Math.sin(particle.orbitalAngle);
                            
                            // Ø§Ø¹Ù…Ø§Ù„ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª
                            const uncertainty = particle.uncertainty || 5;
                            particle.x = baseX + (Math.random() - 0.5) * uncertainty;
                            particle.y = baseY + (Math.random() - 0.5) * uncertainty;
                        } else {
                            // Ø­Ø±Ú©Øª Ø¨Ø±Ø§ÙˆÙ†ÛŒ Ø¨Ø§ Ø§Ø«Ø±Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                            const quantumFluctuation = (Math.random() - 0.5) * 0.2;
                            particle.vx += quantumFluctuation;
                            particle.vy += quantumFluctuation;
                            
                            // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø³Ø±Ø¹Øª
                            const speed = Math.sqrt(particle.vx * particle.vx + particle.vy * particle.vy);
                            const maxSpeed = 4;
                            if (speed > maxSpeed) {
                                particle.vx = (particle.vx / speed) * maxSpeed;
                                particle.vy = (particle.vy / speed) * maxSpeed;
                            }
                            
                            particle.x += particle.vx;
                            particle.y += particle.vy;
                        }
                        
                        // Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø±Ø²Ù‡Ø§ Ø¨Ø§ Ø§Ø«Ø± ØªÙˆÙ†Ù„ Ø²Ù†ÛŒ
                        this.handleQuantumBoundary(particle);
                    });
                },
                
                handleQuantumBoundary(particle) {
                    const centerX = 200, centerY = 200;
                    const dx = particle.x - centerX;
                    const dy = particle.y - centerY;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    const maxRadius = particle.type === 'electron' ? 170 : 130;
                    
                    if (distance > maxRadius) {
                        // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªÙˆÙ†Ù„ Ø²Ù†ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                        const tunnelProbability = 0.1;
                        if (Math.random() > tunnelProbability) {
                            const angle = Math.atan2(dy, dx);
                            particle.x = centerX + maxRadius * Math.cos(angle) * 0.95;
                            particle.y = centerY + maxRadius * Math.sin(angle) * 0.95;
                            
                            if (!particle.orbitalRadius) {
                                particle.vx = -particle.vx * 0.8;
                                particle.vy = -particle.vy * 0.8;
                            }
                        }
                    }
                },
                
                updateVirtualParticles() {
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ
                    this.virtualParticles.forEach(particle => {
                        particle.lifetime -= 0.016;
                        particle.x += particle.vx;
                        particle.y += particle.vy;
                        
                        // Ø§Ø¹Ù…Ø§Ù„ Ù†ÙˆØ³Ø§Ù†Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                        particle.vx += (Math.random() - 0.5) * 0.1;
                        particle.vy += (Math.random() - 0.5) * 0.1;
                    });
                    
                    // Ø­Ø°Ù Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ
                    this.virtualParticles = this.virtualParticles.filter(p => p.lifetime > 0);
                    
                    // ØªÙˆÙ„ÛŒØ¯ Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯
                    if (Math.random() < this.virtualParams.density / 200) {
                        this.virtualParticles.push(this.createRandomVirtualParticle());
                    }
                },
                
                updateEntanglementSystem() {
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¬ÙØªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ù‡
                    this.entangledPairs.forEach(pair => {
                        // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù‡Ù…Ø¨Ø³ØªÚ¯ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                        if (Math.random() < this.entanglementParams.stability / 100) {
                            // Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ø³Ø§Ø²ÛŒ Ø®ÙˆØ§Øµ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                            pair.particle2.quantumState = pair.particle1.quantumState;
                            
                            // Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ø³Ø§Ø²ÛŒ Ø­Ø±Ú©Øª
                            const dx = pair.particle2.x - pair.particle1.x;
                            const dy = pair.particle2.y - pair.particle1.y;
                            const distance = Math.sqrt(dx * dx + dy * dy);
                            
                            if (distance > 50) {
                                const force = 0.01 * this.entanglementParams.interactionSpeed / 100;
                                pair.particle2.vx -= (dx / distance) * force;
                                pair.particle2.vy -= (dy / distance) * force;
                                pair.particle1.vx += (dx / distance) * force;
                                pair.particle1.vy += (dy / distance) * force;
                            }
                        }
                    });
                },
                
                updateUncertaintySystem() {
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø¨Ø±Ù‡Ø§ÛŒ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª
                    this.uncertaintyClouds.forEach(cloud => {
                        cloud.phase += 0.02;
                        cloud.opacity = 0.2 + Math.sin(cloud.phase) * 0.1;
                        cloud.radius = (cloud.particle.uncertainty || 5) * (1 + Math.sin(cloud.phase * 2) * 0.2);
                    });
                },
                
                updateScatteringSystem() {
                    // Ø§ÛŒØ¬Ø§Ø¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ ØªØµØ§Ø¯ÙÛŒ
                    if (Math.random() < this.scatteringParams.frequency / 300) {
                        this.triggerScatteringEvent();
                    }
                },
                
                triggerScatteringEvent() {
                    const centerX = 200, centerY = 200;
                    const radius = 30 + Math.random() * 100;
                    const angle = Math.random() * Math.PI * 2;
                    
                    this.scatteringEvents.push({
                        x: centerX + radius * Math.cos(angle),
                        y: centerY + radius * Math.sin(angle),
                        radius: 10,
                        energy: this.scatteringParams.energy / 100,
                        angle: this.scatteringParams.angle * Math.PI / 180,
                        life: 1.0
                    });
                    
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø±
                    if (radius < 80) {
                        this.protonStats.scatteringEvents++;
                    } else {
                        this.neutronStats.scatteringEvents++;
                    }
                },
                
                updateVisualizations() {
                    this.renderSystem('protonViz', this.protonParticles);
                    this.renderSystem('neutronViz', this.neutronParticles);
                    this.renderSystem('atomViz', this.atomParticles);
                    this.renderAdvancedEffects();
                    this.renderUncertainty();
                },
                
                renderSystem(containerId, particles) {
                    const container = document.getElementById(containerId);
                    
                    // Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ Ø¹Ù†Ø§ØµØ± Ù‚Ø¨Ù„ÛŒ
                    container.querySelectorAll('.particle, .entanglement-link, .virtual-particle, .scattering-effect, .uncertainty-cloud').forEach(el => {
                        if (!el.classList.contains('nucleon-boundary') && 
                            !el.classList.contains('vacuum-field')) {
                            el.remove();
                        }
                    });
                    
                    // Ø±Ù†Ø¯Ø± Ø§Ø¨Ø±Ù‡Ø§ÛŒ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª
                    this.uncertaintyClouds.forEach(cloud => {
                        if (particles.includes(cloud.particle)) {
                            const cloudEl = document.createElement('div');
                            cloudEl.className = 'uncertainty-cloud';
                            cloudEl.style.left = `${cloud.particle.x - cloud.radius}px`;
                            cloudEl.style.top = `${cloud.particle.y - cloud.radius}px`;
                            cloudEl.style.width = `${cloud.radius * 2}px`;
                            cloudEl.style.height = `${cloud.radius * 2}px`;
                            cloudEl.style.opacity = cloud.opacity;
                            container.appendChild(cloudEl);
                        }
                    });
                    
                    // Ø±Ù†Ø¯Ø± Ø°Ø±Ø§Øª
                    particles.forEach(particle => {
                        const el = document.createElement('div');
                        el.className = `particle ${particle.type} ${particle.color || ''} ${particle.isVirtual ? 'virtual' : ''} ${particle.isEntangled ? 'entangled' : ''}`;
                        el.style.left = `${particle.x}px`;
                        el.style.top = `${particle.y}px`;
                        
                        if (particle.type === 'quark' || particle.type === 'antiquark') {
                            el.textContent = particle.type === 'antiquark' ? `${particle.flavor}Ì„` : particle.flavor;
                        } else if (particle.type === 'electron') {
                            el.textContent = 'eâ»';
                        } else if (particle.type === 'photon') {
                            el.textContent = 'Î³';
                        }
                        
                        container.appendChild(el);
                    });
                    
                    // Ø±Ù†Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒ
                    this.entangledPairs.forEach(pair => {
                        if (particles.includes(pair.particle1) && particles.includes(pair.particle2)) {
                            const line = document.createElement('div');
                            line.className = 'entanglement-link';
                            
                            const dx = pair.particle2.x - pair.particle1.x;
                            const dy = pair.particle2.y - pair.particle1.y;
                            const length = Math.sqrt(dx * dx + dy * dy);
                            const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                            
                            line.style.width = `${length}px`;
                            line.style.left = `${pair.particle1.x}px`;
                            line.style.top = `${pair.particle1.y}px`;
                            line.style.transform = `rotate(${angle}deg)`;
                            line.style.opacity = pair.strength * 0.8;
                            
                            container.appendChild(line);
                        }
                    });
                    
                    // Ø±Ù†Ø¯Ø± Ø§Ø«Ø±Ø§Øª Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ
                    this.scatteringEvents.forEach(event => {
                        const effect = document.createElement('div');
                        effect.className = 'scattering-effect';
                        effect.style.left = `${event.x}px`;
                        effect.style.top = `${event.y}px`;
                        effect.style.borderColor = `rgba(236, 72, 153, ${event.energy})`;
                        container.appendChild(effect);
                    });
                },
                
                renderAdvancedEffects() {
                    const container = document.getElementById('effectsViz');
                    container.innerHTML = '';
                    
                    // Ø±Ù†Ø¯Ø± Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ
                    this.virtualParticles.forEach(particle => {
                        const el = document.createElement('div');
                        el.className = 'virtual-particle';
                        el.style.left = `${particle.x}px`;
                        el.style.top = `${particle.y}px`;
                        el.style.width = `${particle.size}px`;
                        el.style.height = `${particle.size}px`;
                        el.style.background = particle.color;
                        container.appendChild(el);
                    });
                    
                    // Ø±Ù†Ø¯Ø± Ù†ÙˆØ³Ø§Ù†Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
                    for (let i = 0; i < 8; i++) {
                        const fluctuation = document.createElement('div');
                        fluctuation.className = 'quantum-fluctuation';
                        fluctuation.style.left = `${50 + Math.random() * 300}px`;
                        fluctuation.style.top = `${50 + Math.random() * 200}px`;
                        fluctuation.style.width = `${20 + Math.random() * 40}px`;
                        fluctuation.style.height = `${20 + Math.random() * 40}px`;
                        container.appendChild(fluctuation);
                    }
                },
                
                renderUncertainty() {
                    const container = document.getElementById('uncertaintyViz');
                    container.innerHTML = '';
                    
                    // Ø±Ù†Ø¯Ø± Ø§Ø¨Ø±Ù‡Ø§ÛŒ Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª
                    for (let i = 0; i < 12; i++) {
                        const cloud = document.createElement('div');
                        cloud.className = 'uncertainty-cloud';
                        cloud.style.left = `${30 + Math.random() * 340}px`;
                        cloud.style.top = `${30 + Math.random() * 240}px`;
                        cloud.style.width = `${40 + Math.random() * 80}px`;
                        cloud.style.height = `${40 + Math.random() * 80}px`;
                        cloud.style.opacity = 0.2 + Math.random() * 0.3;
                        container.appendChild(cloud);
                    }
                },
                
                updateStatistics() {
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÙˆÛŒØ§
                    this.protonStats.virtualParticles = this.protonParticles.filter(p => p.isVirtual).length;
                    this.protonStats.entangledPairs = this.entangledPairs.filter(p => 
                        this.protonParticles.includes(p.particle1)).length;
                    this.protonStats.positionUncertainty = Math.floor(30 + Math.sin(this.simulationTime) * 10);
                    
                    this.neutronStats.virtualParticles = this.neutronParticles.filter(p => p.isVirtual).length;
                    this.neutronStats.entangledPairs = this.entangledPairs.filter(p => 
                        this.neutronParticles.includes(p.particle1)).length;
                    this.neutronStats.positionUncertainty = Math.floor(35 + Math.sin(this.simulationTime * 1.2) * 12);
                    
                    this.atomStats.virtualPhotons = this.atomParticles.filter(p => p.type === 'photon' && p.isVirtual).length;
                    this.atomStats.vacuumPolarization = Math.floor(20 + Math.sin(this.simulationTime * 0.8) * 10);
                    this.atomStats.quantumTunneling = Math.floor(5 + Math.sin(this.simulationTime * 1.5) * 3);
                    this.atomStats.fieldFluctuations = Math.floor(15 + Math.sin(this.simulationTime) * 8);
                },
                
                updateVirtualSystem() {
                    console.log('Ø³ÛŒØ³ØªÙ… Ø°Ø±Ø§Øª Ù…Ø¬Ø§Ø²ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯');
                },
                
                updateEntanglementSystem() {
                    console.log('Ø³ÛŒØ³ØªÙ… Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ú¯ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯');
                },
                
                updateUncertaintySystem() {
                    console.log('Ø³ÛŒØ³ØªÙ… Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯');
                },
                
                updateScatteringSystem() {
                    console.log('Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø§Ú©Ù†Ø¯Ú¯ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯');
                },
                
                startSimulation() {
                    this.isRunning = true;
                    this.startQuantumLoop();
                },
                
                pauseSimulation() {
                    this.isRunning = false;
                },
                
                resetSimulation() {
                    this.isRunning = false;
                    this.simulationTime = 0;
                    this.frameCount = 0;
                    this.initializeAdvancedSystems();
                },
                
                triggerQuantumEvent() {
                    // Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ø¨Ø²Ø±Ú¯
                    for (let i = 0; i < 5; i++) {
                        this.triggerScatteringEvent();
                    }
                    
                    // Ø§ÛŒØ¬Ø§Ø¯ Ø¬ÙØªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ù‡Ù…â€ŒØªÙ†ÛŒØ¯Ù‡ Ø¬Ø¯ÛŒØ¯
                    for (let i = 0; i < 3; i++) {
                        const pair = this.createEntangledPair(200, 200);
                        this.protonParticles.push(pair.particle1, pair.particle2);
                        this.entangledPairs.push(pair);
                    }
                    
                    console.log('Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ ÙØ¹Ø§Ù„ Ø´Ø¯');
                },
                
                exportQuantumData() {
                    const data = {
                        simulationTime: this.simulationTime,
                        frameCount: this.frameCount,
                        virtualParams: this.virtualParams,
                        entanglementParams: this.entanglementParams,
                        uncertaintyParams: this.uncertaintyParams,
                        scatteringParams: this.scatteringParams,
                        statistics: {
                            proton: this.protonStats,
                            neutron: this.neutronStats,
                            atom: this.atomStats
                        },
                        systemState: {
                            virtualParticles: this.virtualParticles.length,
                            entangledPairs: this.entangledPairs.length,
                            uncertaintyClouds: this.uncertaintyClouds.length,
                            scatteringEvents: this.scatteringEvents.length
                        }
                    };
                    console.log('Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡:', data);
                }
            }));
        });
    </script>
</body>
</html>